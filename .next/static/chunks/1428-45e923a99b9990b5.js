"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1428],{4988:(e,t,r)=>{r.d(t,{nu:()=>i,vL:()=>o,fl:()=>a,Nu:()=>x,YU:()=>m});var s=r(12115);let a=()=>{let[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(""),[l,n]=(0,s.useState)(null);return{isOpen:e,message:r,openModal:(e,r)=>{a(e),n(()=>r),t(!0)},closeModal:()=>{t(!1),n(null)},onConfirm:l}};var l=r(93473),n=r(7114);function o(e){let[t,r]=(0,s.useState)(!1),[a,o]=(0,s.useState)(()=>null==e?void 0:e.map(e=>e.id)),[d,i]=(0,s.useState)(null==e?void 0:e.length),{auth:c,clearDataAfterTimeout:x}=(0,n.A)(),m=(0,s.useRef)(!1);(0,s.useEffect)(()=>{r(!0)},[]),(0,s.useEffect)(()=>{!1===c&&x()},[c,x]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{!1!==c||m.current||((0,l.Qg)("Вы не авторизованы, рекомендуем авторизоваться"),m.current=!0)},500);return()=>clearTimeout(e)},[c]),(0,s.useEffect)(()=>{(null==e?void 0:e.length)!==d&&(o(null==e?void 0:e.map(e=>e.id)),i(null==e?void 0:e.length))},[e,d]);let u=(null==e?void 0:e.length)>0&&(null==a?void 0:a.length)===(null==e?void 0:e.length),p=null==e?void 0:e.filter(e=>null==a?void 0:a.includes(e.id));return{isClient:t,selectedItems:a,toggleAllItems:()=>{o(t=>(null==t?void 0:t.length)===(null==e?void 0:e.length)?[]:null==e?void 0:e.map(e=>e.id))},toggleSingleItem:e=>{o(t=>(null==t?void 0:t.includes(e))?t.filter(t=>t!==e):[...t,e])},isAllChecked:u,selectedCards:p}}var d=r(47131);function i(e){let{cart:t,selectedItems:r,setValue:l,cartForm:n,resetCart:o,deleteCart:i}=e,c=(0,d.A)(e=>e.selectedGuarantees);(0,s.useEffect)(()=>{(null==n?void 0:n.city)&&l("city",n.city)},[null==n?void 0:n.city,l]),(0,s.useEffect)(()=>{let e=t.filter(e=>r.includes(e.id)),s=e.reduce((e,t)=>e+t.price*(t.count||1),0);l("productDetails",e.map(e=>{var t,r;return{productId:e.id,count:null!=(t=e.count)?t:0,garanteeId:null!=(r=c[e.id])?r:"0"}})),l("total",s)},[r,t,l,c]);let{isOpen:x,message:m,openModal:u,closeModal:p,onConfirm:h}=a();return{isConfirmOpen:x,message:m,onConfirm:h,closeModal:p,handleDeleteAll:()=>{u("Вы уверены, что хотите удалить все товары из корзины?",()=>o())},handleDeleteClick:e=>{u("Вы уверены, что хотите удалить товар из корзины?",()=>i(e))}}}var c=r(35695);function x(){let{auth:e,isHydrated:t}=(0,n.A)(),r=(0,c.useRouter)();return(0,s.useEffect)(()=>{t&&(e||r.replace("/"))},[e,t,r]),e}function m(){let[e,t]=(0,s.useState)("up"),r=(0,s.useRef)(0);return(0,s.useEffect)(()=>{r.current=window.scrollY;let e=()=>{let e=window.scrollY;t(e>r.current?"down":"up"),r.current=e};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e}},17296:(e,t,r)=>{r.d(t,{A:()=>c});var s=r(95155),a=r(25318),l=r(6874),n=r.n(l),o=r(54165),d=r(67995),i=r(12115);let c=e=>{let{isOpen:t,toggleModal:r,garantee:l,setValue:c,count:x,addGaranteePrice:m,selected:u,setSelected:p,productId:h,getValues:f}=e;return(0,i.useEffect)(()=>{var e;t&&(c("productDetails",(f()||[]).map(e=>e.productId===h?{...e,garanteeId:u}:e)),m("0"===u?0:Number((null==(e=l.find(e=>e.id===u))?void 0:e.price)||0)*x))},[t,u,l,x,m,c,h,f]),console.log(l),(0,s.jsx)(o.lG,{open:t,onOpenChange:r,children:(0,s.jsxs)(o.Cf,{className:"p-0 sm:rounded-none border-none max-w-[900px]",children:[(0,s.jsxs)("div",{className:"flex justify-between p-6 border-b border-superSilver",children:[(0,s.jsx)(o.L3,{className:"w-fit text-textColor text-lg font-normal",children:"Выбор гарантии"}),(0,s.jsx)("button",{onClick:r,className:"text-textColor",children:(0,s.jsx)(a.A,{})})]}),(0,s.jsx)(o.rr,{className:"hidden",children:"asd"}),(0,s.jsxs)("div",{className:"px-6 py-4",children:[(0,s.jsxs)("p",{className:"text-textColor mb-4",children:["Выберите пакет дополнительной гарантии. Также см."," ",(0,s.jsx)(n(),{href:"/extended-warranty",className:"text-cerulean",children:"Преимущества расширенной гарантии"})]}),(0,s.jsxs)("table",{className:"w-full text-left border",children:[(0,s.jsx)("thead",{className:"border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"pb-2 pt-[10px] px-1 border-r"}),(0,s.jsx)("th",{className:"pb-2 pt-[10px] px-[10px] border-r"}),(0,s.jsx)("th",{className:"pb-2 pt-[10px] px-[10px] text-center",children:"Стоимость"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"pb-2 pt-[10px] px-1 border",children:[(0,s.jsx)("td",{className:"pb-2 pt-[10px] px-1 border",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("input",{id:"0",type:"radio",name:"garantee",value:"0",checked:"0"===u,onChange:()=>p("0")})})}),(0,s.jsx)("td",{className:" text-textColor pb-2 pt-[10px] px-[10px] border",children:(0,s.jsx)("label",{htmlFor:"0",children:"Стандартная гарантия "})}),(0,s.jsx)("td",{className:" text-textColor pb-2 pt-[10px] px-[10px] border text-end",children:(0,s.jsx)(d.A,{amount:0,className:"inline-block"})})]}),l.map(e=>(0,s.jsxs)("tr",{className:u===e.id?"bg-gray-50":"",children:[(0,s.jsx)("td",{className:"pb-2 pt-[10px] px-1 border",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("input",{id:e.id,type:"radio",name:"garantee",value:e.id,checked:u===e.id,onChange:()=>p(e.id)})})}),(0,s.jsx)("td",{className:" text-textColor pb-2 pt-[10px] px-[10px] border",children:(0,s.jsx)("label",{htmlFor:e.id,children:e.title})}),(0,s.jsx)("td",{className:" text-textColor pb-2 pt-[10px] px-[10px] border text-end",children:(0,s.jsx)(d.A,{amount:Number(e.price),className:"inline-block"})})]},e.id))]})]})]}),(0,s.jsx)("div",{className:"flex justify-end p-6 border-t border-superSilver",children:(0,s.jsx)("button",{type:"button",onClick:()=>{var e;c("productDetails",(f()||[]).map(e=>e.productId===h?{...e,garanteeId:u}:e)),m("0"===u?0:Number((null==(e=l.find(e=>e.id===u))?void 0:e.price)||0)*x),r()},className:"px-6 py-2 bg-cerulean text-white rounded shadow",children:"Выбрать"})})]})})}},17759:(e,t,r)=>{r.d(t,{C5:()=>f,MJ:()=>h,eI:()=>p,lV:()=>i,zB:()=>x});var s=r(95155),a=r(12115),l=r(99708),n=r(62177),o=r(59434),d=r(85057);let i=n.Op,c=a.createContext({}),x=e=>{let{...t}=e;return(0,s.jsx)(c.Provider,{value:{name:t.name},children:(0,s.jsx)(n.xI,{...t})})},m=()=>{let e=a.useContext(c),t=a.useContext(u),{getFieldState:r,formState:s}=(0,n.xW)(),l=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...l}},u=a.createContext({}),p=a.forwardRef((e,t)=>{let{className:r,...l}=e,n=a.useId();return(0,s.jsx)(u.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...l})})});p.displayName="FormItem",a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:l,formItemId:n}=m();return(0,s.jsx)(d.J,{ref:t,className:(0,o.cn)(l&&"text-destructive",r),htmlFor:n,...a})}).displayName="FormLabel";let h=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:n,formDescriptionId:o,formMessageId:d}=m();return(0,s.jsx)(l.DX,{ref:t,id:n,"aria-describedby":a?"".concat(o," ").concat(d):"".concat(o),"aria-invalid":!!a,...r})});h.displayName="FormControl",a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:l}=m();return(0,s.jsx)("p",{ref:t,id:l,className:(0,o.cn)("text-[0.8rem] text-muted-foreground",r),...a})}).displayName="FormDescription";let f=a.forwardRef((e,t)=>{let{className:r,children:a,...l}=e,{error:n,formMessageId:d}=m(),i=n?String(null==n?void 0:n.message):a;return i?(0,s.jsx)("p",{ref:t,id:d,className:(0,o.cn)("text-[0.8rem] font-medium text-destructive",r),...l,children:i}):null});f.displayName="FormMessage"},22346:(e,t,r)=>{r.d(t,{w:()=>o});var s=r(95155),a=r(12115),l=r(87489),n=r(59434);let o=a.forwardRef((e,t)=>{let{className:r,orientation:a="horizontal",decorative:o=!0,...d}=e;return(0,s.jsx)(l.b,{ref:t,decorative:o,orientation:a,className:(0,n.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",r),...d})});o.displayName=l.b.displayName},30285:(e,t,r)=>{r.d(t,{$:()=>i,r:()=>d});var s=r(95155),a=r(12115),l=r(99708),n=r(74466),o=r(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:i=!1,...c}=e,x=i?l.DX:"button";return(0,s.jsx)(x,{className:(0,o.cn)(d({variant:a,size:n,className:r})),ref:t,...c})});i.displayName="Button"},31031:(e,t,r)=>{r.d(t,{qA:()=>i,W1:()=>d,Kw:()=>l,ZQ:()=>o});var s=r(95155),a=r(39688);let l=e=>{let{children:t,className:r}=e;return(0,s.jsx)("span",{className:(0,a.QP)("text-dangerColor text-xs font-normal mt-2 pb-2",r),children:t})};var n=r(59434);let o=e=>{let{name:t,register:r,className:a,error:l,required:o=!0,type:d="text",...i}=e,c={required:o,..."email"===d&&{pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}};return(0,s.jsx)("input",{type:d||"text",id:String(t),...r(t,c),className:(0,n.cn)("border ".concat(l?"border-dangerColor hover:border-dangerColor/50":"border-superSilver hover:border-cerulean/50"," py-2 px-[15px] w-full focus:outline-none focus:border-cerulean"),a),...i,placeholder:i.placeholder})},d=e=>{let{name:t,register:r,error:a,required:l=!0,type:o="text",className:d,...i}=e,c={required:!!l&&"Это поле обязательно",..."inn"===t&&{pattern:{value:/^\d{9}$/,message:"ИНН должен состоять из 9 цифр."}},..."oked"===t&&{pattern:{value:/^\d{5}$/,message:"ОКЭД может состоять только из 5 цифр."}}};return(0,s.jsx)("input",{type:o,id:String(t),...r(t,c),className:(0,n.cn)("border py-2 px-[15px] w-full focus:outline-none focus:border-cerulean ".concat(a?"border-dangerColor hover:border-dangerColor/50":"border-superSilver hover:border-cerulean/50"),d),...i,placeholder:i.placeholder})},i=e=>{let{name:t,register:r,error:a,className:l,required:o=!0,type:d="text",autoComplete:i="off",disabled:c=!1,...x}=e;return(0,s.jsx)("input",{type:d,id:String(t),disabled:c,autoComplete:i,...r(t,{required:o}),className:(0,n.cn)("border ".concat(a?"border-dangerColor hover:border-dangerColor/50":"border-superSilver hover:border-cerulean/50"," py-2 px-[15px] w-full focus:outline-none focus:border-cerulean"),l),...x,placeholder:x.placeholder})}},32825:(e,t,r)=>{r.d(t,{h2:()=>C,uo:()=>o,vm:()=>N,zC:()=>d.z});var s=r(95155),a=r(30285),l=r(54165),n=r(22346);let o=e=>{let{isOpen:t,message:r,onConfirm:o,closeModal:d}=e;return(0,s.jsx)(l.lG,{modal:!0,open:t,onOpenChange:d,children:(0,s.jsxs)(l.Cf,{className:"max-w-[600px] sm:rounded-none p-0 border-none",children:[(0,s.jsx)(l.c7,{className:"px-[23px] pt-[23px] pb-1",children:(0,s.jsx)(l.L3,{className:"text-textColor font-normal text-lg",children:"Подтвердите удаление"})}),(0,s.jsx)(l.rr,{className:"hidden",children:"asd"}),(0,s.jsx)(n.w,{className:" h-[0.5px]"}),(0,s.jsxs)("div",{className:"px-[23px] pt-1 pb-[23px]",children:[(0,s.jsx)("p",{className:"text-textColor mb-5 ",children:r}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(a.$,{onClick:()=>{o&&o(),d()},className:"w-[108px] h-10  bg-dangerColor hover:bg-dangerColor text-white flex justify-center items-center font-semibold hover:opacity-80 duration-200 ease-in-out rounded-none",children:"Удалить"}),(0,s.jsx)(a.$,{onClick:d,className:"w-[108px] h-10 border border-wasabiColor bg-white text-wasabiColor flex justify-center items-center font-semibold hover:border-cerulean hover:text-cerulean duration-200 ease-in-out rounded-none hover:bg-white",children:"Отмена"})]})]})]})})};var d=r(76870),i=r(25318),c=r(62177),x=r(85057),m=r(59409),u=r(69629),p=r(31031),h=r(12115),f=r(47262),g=r(96834),b=r(57141),j=r(93473),v=r(26715);let N=e=>{let{isOpen:t,toggleOpen:r}=e,{handleSubmit:a,register:n,control:o,reset:d,formState:{errors:N,isValid:y}}=(0,c.mN)({mode:"onChange"}),w=(0,v.jE)(),C=async e=>{try{await g.A.post(b.lf,e),w.invalidateQueries({queryKey:["contragents"]}),r(),d(),(0,j.Te)("Контрагент успешно добавлен")}catch(e){console.log(e),(0,j.Qg)("Ошибка добавления контрагента")}};return(0,h.useEffect)(()=>{d()},[t,d]),(0,s.jsx)(l.lG,{open:t,onOpenChange:r,children:(0,s.jsxs)(l.Cf,{className:"p-0 sm:rounded-none border-none max-w-[900px] overflow-y-scroll max-h-[95vh]",children:[(0,s.jsxs)("div",{className:"flex justify-between p-6 border-b border-superSilver",children:[(0,s.jsx)(l.L3,{className:"w-fit text-textColor text-lg leading-[27px] font-normal",children:"Добавление контрагента"}),(0,s.jsx)("button",{className:"text-textColor",onClick:r,children:(0,s.jsx)(i.A,{})})]}),(0,s.jsx)(l.rr,{className:"hidden",children:"asd"}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("form",{noValidate:!0,onSubmit:a(C),children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)(x.J,{htmlFor:"ownershipForm",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Форма собственности",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(c.xI,{name:"ownershipForm",control:o,defaultValue:"Юридическое лицо",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.l6,{onValueChange:e=>{t.onChange(e)},value:t.value,children:[(0,s.jsx)(m.bq,{className:"rounded-none text-base text-textColor focus:ring-cerulean h-[42px] shadow-none",children:(0,s.jsx)(m.yv,{defaultValue:"Юридическое лицо"})}),(0,s.jsx)(m.gC,{className:"rounded-none",children:u.lg.map(e=>(0,s.jsx)(m.eb,{value:e.value,className:"text-textColor cursor-pointer hover:bg-whiteOut py-2",children:e.text},e.value))})]})}})]}),(0,s.jsxs)("div",{className:"pt-[45px] space-y-[19px]",children:[(0,s.jsxs)("div",{className:" grid-cols-2 grid gap-[30px] ",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(x.J,{htmlFor:"inn",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["ИНН",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(p.W1,{name:"inn",register:n,error:N.inn,type:"number"}),N.inn&&(0,s.jsx)(p.Kw,{children:N.inn.message||"ИНН должен состоять из 9 цифр."})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x.J,{htmlFor:"inn",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["ОКЭД",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(p.W1,{name:"oked",register:n,error:N.oked,type:"text"}),N.oked&&(0,s.jsx)(p.Kw,{children:N.oked.message||"ОКЭД может состоять только из 5 цифр."})]})]}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)(x.J,{htmlFor:"name",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Наименование",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(p.W1,{name:"name",register:n,error:N.name})]}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)(x.J,{htmlFor:"legalAdress",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Юридический адрес *",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(p.W1,{name:"legalAddress",register:n,error:N.legalAddress})]})]}),(0,s.jsxs)("div",{className:"mt-[30px] mb-[15px] flex gap-[7px] items-center",children:[(0,s.jsx)(c.xI,{name:"isFavorite",control:o,defaultValue:!0,render:e=>{let{field:{onChange:t,value:r}}=e;return(0,s.jsx)(f.S,{id:"isFavorite",checked:r,onCheckedChange:t,className:"w-[18px] h-[18px] rounded-none data-[state=checked]:bg-greenLight data-[state=checked]:border-greenLight data-[state=checked]:text-white"})}}),(0,s.jsxs)("label",{htmlFor:"isFavorite",className:"leading-[18px] flex flex-col text-xs text-textColor",children:["Выбранный",(0,s.jsx)("span",{className:"text-darkSoul",children:"Данной настройкой вы устанавливаете этого контрагента основным для последующих заказов"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-5 ",children:[(0,s.jsx)("button",{type:"button",className:"px-[23px] h-[42px] border",onClick:r,children:"Отмена"}),(0,s.jsx)("button",{type:"submit",disabled:!y,className:"px-[23px] h-[42px] border bg-cerulean text-white disabled:bg-superSilver disabled:text-darkSoul disabled:border-none",children:"Добавить"})]})]})})]})})};var y=r(75943),w=r(87239);let C=e=>{let{isOpen:t,toggleOpen:r,name:a,contrAgentId:n,element:o}=e,{handleSubmit:d,register:m,control:u,reset:N,setValue:C,watch:k,formState:{errors:S,isValid:A}}=(0,c.mN)({mode:"onChange",defaultValues:{fullAddress:"",country:"",region:"",district:"",street:"",index:""}}),[F,E]=(0,h.useState)([]),[V,I]=(0,h.useState)(1),[q,z]=(0,h.useState)(null),J=(0,v.jE)(),L=k("fullAddress"),R=(0,h.useCallback)(async()=>{try{let{data:e}=(await g.A.get(b.SA,{params:{name:L}})).data;console.log(e),1===V&&e.results.length>1?E(e.results):E([])}catch(e){console.log(e)}},[L,V]);(0,h.useEffect)(()=>{L&&""!==L.trim()&&(I(1),R())},[L,R]),(0,h.useEffect)(()=>{N()},[t,N]);let M=e=>{var t,r,s,a;I(2),C("fullAddress","formatted_address"in e?e.formatted_address:e.fullAddress,{shouldValidate:!0}),C("country",e.country,{shouldValidate:!0}),C("region",e.city||e.region,{shouldValidate:!0});let l="formatted_address"in e?e.formatted_address:e.fullAddress;C("district",null!=(r=null!=(t=e.district)?t:l.split(",").map(e=>e.trim()).find(e=>/tumani|туман/i.test(e)))?r:"-",{shouldValidate:!0}),C("street",e.full_street||"-",{shouldValidate:!0}),C("index",null!=(s=e.postal_code)?s:e.index||""),C("house",null!=(a=e.house)?a:e.house||"-",{shouldValidate:!0}),C("apartment","apartment"in e&&e.apartment||""),C("comment","comment"in e&&e.comment||""),C("isMain",!("isMain"in e)||e.isMain)},_=e=>{z(null),M(e),E([])},K=e=>{z(e),M(e)},T=async e=>{try{await g.A.delete("".concat(b.Tq,"/").concat(e)),(0,j.Te)("Адрес успешно удален"),r(),J.invalidateQueries({queryKey:["contragents"]})}catch(e){(0,j.Qg)("Ошибка удаления адреса ".concat(e))}},D=async e=>{try{q?(await g.A.patch("".concat(b.rH,"/").concat(q.id),e),(0,j.Te)("Адрес успешно обновлен"),J.invalidateQueries({queryKey:["contragents"]}),r(),N()):(await g.A.post("".concat(b.uC,"/").concat(n),e),J.invalidateQueries({queryKey:["contragents"]}),r(),N(),(0,j.Te)("Адрес успешно добавлен"))}catch(e){console.log(e),(0,j.Qg)("Ошибка добавления адреса")}};return(0,s.jsx)(l.lG,{open:t,onOpenChange:r,children:(0,s.jsxs)(l.Cf,{className:"p-0 sm:rounded-none border-none max-w-[900px] bg-white overflow-y-scroll max-h-[95vh] flex flex-col gap-0 ",style:{scrollbarWidth:"none"},children:[(0,s.jsxs)("div",{className:"flex justify-between p-6 border-b border-superSilver",children:[(0,s.jsxs)(l.L3,{className:"w-fit text-textColor text-lg leading-[27px] font-normal",children:["Адреса ",a]}),(0,s.jsx)("button",{className:"text-textColor",onClick:r,children:(0,s.jsx)(i.A,{})})]}),(0,s.jsx)(l.rr,{className:"hidden",children:"asd"}),o&&(null==o?void 0:o.length)>0&&(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("table",{className:"border w-full table-auto",children:[(0,s.jsx)("thead",{className:"border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"pt-[7.5px] pb-[10px] text-xs text-textColor font-normal",children:"Адрес"}),(0,s.jsx)("th",{className:"border-l"})]})}),(0,s.jsx)("tbody",{children:null==o?void 0:o.map(e=>(0,s.jsxs)("tr",{className:"border-b",children:[(0,s.jsxs)("td",{className:"py-[7px] px-[10px] text-xs text-textColor font-normal border-r",children:[e.fullAddress,", ",e.street,", ",e.house]}),(0,s.jsxs)("td",{className:"flex items-center justify-center  py-[7px]",children:[(0,s.jsx)("span",{onClick:()=>K(e),className:"cursor-pointer mr-2",children:(0,s.jsx)(y.A,{className:"w-[17px] h-[18px] hover:text-celBlue hoverEffect"})}),(0,s.jsx)("span",{onClick:()=>T(e.id),className:"cursor-pointer",children:(0,s.jsx)(w.d7,{className:"w-[18px] h-[18px]  hover:text-dangerColor hoverEffect"})})]})]},e.id))})]})}),(0,s.jsx)("div",{className:"px-6  pb-4 pt-6",children:(0,s.jsxs)("form",{noValidate:!0,onSubmit:d(D),children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(x.J,{htmlFor:"fullAddress",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Форма собственности",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(p.qA,{name:"fullAddress",required:!0,autoComplete:"off",register:m,error:S.fullAddress,placeholder:"г. Ташкент, Мирабадский район, Инокоабад МФЙ, ул. Инокобод, пр. 5, д. 22, кв. 1"}),S.fullAddress&&(0,s.jsx)(p.Kw,{children:"Введите полный адрес с точностью до дома"}),F.length>0&&(0,s.jsx)("ul",{className:"border-superSilver border bg-white",children:F.map((e,t)=>(0,s.jsx)("li",{className:"cursor-pointer hover:bg-background px-6 py-4 text-sm text-textColor",onClick:()=>_(e),children:e.formatted_address},t))})]}),(0,s.jsxs)("div",{className:"pt-8 space-y-5",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-[30px]",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(x.J,{htmlFor:"country",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Страна",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(p.qA,{autoComplete:"off",disabled:!0,name:"country",required:!0,register:m,error:S.country,placeholder:"Узбекистан",className:"bg-superSilver text-darkSoul cursor-not-allowed hover:border-superSilver"}),S.country&&(0,s.jsx)(p.Kw,{children:"Поле обязательно"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x.J,{htmlFor:"region",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Регион",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(p.qA,{autoComplete:"off",disabled:!0,name:"region",required:!0,register:m,error:S.region,className:"bg-superSilver text-darkSoul cursor-not-allowed hover:border-superSilver"}),S.region&&(0,s.jsx)(p.Kw,{children:"Поле обязательно"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-[30px]",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(x.J,{htmlFor:"district",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Город / Населенный пункт",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(p.qA,{autoComplete:"off",disabled:!0,name:"district",required:!0,register:m,error:S.district,className:"bg-superSilver text-darkSoul cursor-not-allowed hover:border-superSilver"}),S.district&&(0,s.jsx)(p.Kw,{children:"Поле обязательно"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(x.J,{htmlFor:"street",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Улица",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(p.qA,{name:"street",required:!0,register:m,error:S.street}),S.street&&(0,s.jsx)(p.Kw,{children:"Поле обязательно"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-[30px]",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(x.J,{htmlFor:"house",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Дом",(0,s.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,s.jsx)(p.qA,{name:"house",required:!0,register:m,error:S.house}),S.house&&(0,s.jsx)(p.Kw,{children:"Поле обязательно"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.J,{htmlFor:"apartment",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:"Квартира/Офис"}),(0,s.jsx)(p.qA,{name:"apartment",register:m,required:!1})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.J,{htmlFor:"index",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:"Индекс"}),(0,s.jsx)(p.qA,{name:"index",register:m,required:!1})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.J,{htmlFor:"comment",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:"Комментарии"}),(0,s.jsx)("textarea",{id:"comment",...m("comment"),className:"resize-none w-full rounded-none focus:outline-none border-superSilver border focus:border-cerulean py-2 px-[15px] min-h-[95px]"})]})]}),(0,s.jsxs)("div",{className:"mt-[30px] mb-[15px] flex gap-[7px] items-center",children:[(0,s.jsx)(c.xI,{name:"isMain",control:u,defaultValue:!0,render:e=>{let{field:{onChange:t,value:r}}=e;return(0,s.jsx)(f.S,{id:"isMain",checked:r,onCheckedChange:t,className:"w-[18px] h-[18px] rounded-none data-[state=checked]:bg-greenLight data-[state=checked]:border-greenLight data-[state=checked]:text-white"})}}),(0,s.jsxs)("label",{htmlFor:"isMain",className:"leading-[18px] flex flex-col text-xs text-textColor",children:["По умолчанию",(0,s.jsx)("span",{className:"text-darkSoul",children:"Данной настройкой вы устанавливаете этот адрес основным для последующих заказов"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-5 ",children:[(0,s.jsx)("button",{type:"button",className:"px-[23px] h-[42px] border",onClick:r,children:"Отмена"}),(0,s.jsx)("button",{type:"submit",disabled:!A,className:"px-[23px] h-[42px] border bg-cerulean text-white disabled:bg-superSilver disabled:text-darkSoul disabled:border-none",children:q?"Редактировать":"Добавить"})]})]})})]})})};r(17296)},47131:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(65453),a=r(46786);let l=(0,s.v)()((0,a.Zr)(e=>({cartForm:null,contactForm:null,deliveryForm:null,garanteePrice:null,selectedGuarantees:{},addCartForm:t=>e({cartForm:t}),addContactForm:t=>e({contactForm:t}),addDeliveryForm:t=>e({deliveryForm:t}),addGaranteePrice:t=>e({garanteePrice:t}),setSelectedGuarantee:(t,r)=>e(e=>({selectedGuarantees:{...e.selectedGuarantees,[t]:r}}))}),{name:"sfeo-mtr",storage:(0,a.KU)(()=>sessionStorage)}))},47262:(e,t,r)=>{r.d(t,{S:()=>d});var s=r(95155),a=r(12115),l=r(76981),n=r(10518),o=r(59434);let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.bL,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-cerulean data-[state=checked]:text-primary-foreground",r),...a,children:(0,s.jsx)(l.C1,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})})});d.displayName=l.bL.displayName},54165:(e,t,r)=>{r.d(t,{Cf:()=>x,Es:()=>u,L3:()=>p,c7:()=>m,lG:()=>d,rr:()=>h});var s=r(95155),a=r(12115),l=r(15452),n=r(25318),o=r(59434);let d=l.bL;l.l9;let i=l.ZL;l.bm;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.hJ,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});c.displayName=l.hJ.displayName;let x=a.forwardRef((e,t)=>{let{className:r,children:a,...d}=e;return(0,s.jsxs)(i,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...d,children:[a,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hidden",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let m=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};m.displayName="DialogHeader";let u=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};u.displayName="DialogFooter";let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});p.displayName=l.hE.displayName;let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...a})});h.displayName=l.VY.displayName},59409:(e,t,r)=>{r.d(t,{bq:()=>u,eb:()=>g,gC:()=>f,l6:()=>c,s3:()=>x,yv:()=>m});var s=r(95155),a=r(12115),l=r(38715),n=r(79556),o=r(77381),d=r(10518),i=r(59434);let c=l.bL,x=l.YJ,m=l.WT,u=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,s.jsxs)(l.l9,{ref:t,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[a,(0,s.jsx)(l.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1 text-textColor",r),...a,children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})});p.displayName=l.PP.displayName;let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let f=a.forwardRef((e,t)=>{let{className:r,children:a,position:n="popper",...o}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsxs)(l.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...o,children:[(0,s.jsx)(p,{}),(0,s.jsx)(l.LM,{className:(0,i.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(h,{})]})})});f.displayName=l.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",r),...a})}).displayName=l.JU.displayName;let g=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(l.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(l.p4,{children:a})]})});g.displayName=l.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=l.wv.displayName},69629:(e,t,r)=>{r.d(t,{lg:()=>i,JT:()=>s,FE:()=>d});let s=[{name:"Покупателям",sublink:[{name:"Способы оплаты",link:"/payment"},{name:"Условия доставки",link:"/delivery"},{name:"Гарантийное обслуживание",link:"/guarantee"},{name:"Возврат товара",link:"/return-product"},{name:"Вопросы и ответы",link:"/faq"},{name:"Техническая поддержка",link:"/support"},{name:"Конфигураторы",link:"/configurators"}]},{name:"Услуги",sublink:[{name:"Wi-Fi \xabпод ключ\xbb",link:"/wifi"},{name:"Расширенная гарантия",link:"/extended-warranty"},{name:"Системная интеграция",link:"/system-integration"}]},{name:"О нас",sublink:[{name:"О компании",link:"/about"},{name:"Контактная информация",link:"/contact"},{name:"Банковские реквизиты",link:"/bank-accounts"},{name:"Партнеры",link:"/partners"},{name:"Новости",link:"/news"},{name:"Карта сайта",link:"/map"}]}];var a=r(95155),l=r(6874),n=r.n(l);r(12115),a.Fragment,n(),a.Fragment,n(),n(),a.Fragment,n(),n(),a.Fragment,n(),a.Fragment,n(),a.Fragment,n(),a.Fragment,n();var o=r(87239);let d=[{name:"Мои заказы",link:"/profile/orders",icon:(0,a.jsx)(o.f0,{})},{name:"Мои обращения",link:"/profile/issues",icon:(0,a.jsx)(o.RH,{})},{name:"Контрагенты",link:"/profile/contractors",icon:(0,a.jsx)(o.pL,{})},{name:"Избранное",link:"/profile/favorites",icon:(0,a.jsx)(o.C3,{className:"w-[17px] h-[17px]"})},{name:"Настройки",link:"/profile/settings",icon:(0,a.jsx)(o.MU,{className:"w-[17px] h-[17px]"})}],i=[{value:"Юридическое лицо",text:"Юридическое лицо"},{value:"Юридическое лицо, обособленное подразделение",text:"Юридическое лицо, обособленное подразделение"},{value:"Индивидуальный предприниматель",text:"Индивидуальный предприниматель"},{value:"Юридическое лицо-нерезидент",text:" Юридическое лицо-нерезидент (иностранная организация)"}]},76870:(e,t,r)=>{r.d(t,{z:()=>I,A:()=>q});var s=r(95155),a=r(54165),l=r(12115),n=r(62177),o=r(90221),d=r(55594),i=r(25318),c=r(17759),x=r(87239),m=r(6874),u=r.n(m),p=r(7114);let h=e=>{let{fullClose:t}=e,{setAuth:r}=(0,p.A)();(0,l.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("token");e&&(localStorage.setItem("sector-token",e),r(!0),window.history.replaceState({},document.title,window.location.pathname))},[r]);let a=e=>{window.location.href=({google:"".concat("https://api.sectortechnology.uz","/user/auth/google/login"),linkedin:"".concat("https://api.sectortechnology.uz","/user/auth/linkedin/login"),facebook:"".concat("https://api.sectortechnology.uz","/user/auth/facebook/login"),yandex:"".concat("https://api.sectortechnology.uz","/user/auth/yandex/login")})[e]},n=e=>{a(e)};return(0,s.jsxs)("div",{className:"py-5 font-arial",children:[(0,s.jsx)("h5",{className:"text-center font-normal text-base text-textColor mb-5",children:"Войти с помощью"}),(0,s.jsxs)("div",{className:"flex gap-[10px] justify-center mb-7",children:[(0,s.jsx)("button",{onClick:()=>n("google"),className:"w-[68px] h-[50px] flex items-center justify-center bg-lightBg rounded-[10px] shadow-sm hover:bg-cerulean hoverEffect",children:(0,s.jsx)(x.NR,{})}),(0,s.jsx)("button",{onClick:()=>n("linkedin"),className:"w-[68px] h-[50px] flex items-center justify-center bg-lightBg rounded-[10px] shadow-sm hover:bg-cerulean hoverEffect",children:(0,s.jsx)(x._z,{})}),(0,s.jsx)("button",{onClick:()=>n("yandex"),className:"w-[68px] h-[50px] flex items-center justify-center bg-lightBg rounded-[10px] shadow-sm hover:bg-cerulean hoverEffect",children:(0,s.jsx)(x.Hh,{})})]}),(0,s.jsxs)("p",{className:"text-center font-normal text-xs",children:["Я согласен на обработку персональных данных, с"," ",(0,s.jsx)(u(),{href:"/",target:"_blank",onClick:()=>t(),className:"text-linkColor underline underline-offset-2",children:"условиями подписки,"})," ","а также с подпиской на новостные рассылки. Управлять подпиской вы можете в личном кабинете."]})]})};var f=r(30285),g=r(93473),b=r(96834),j=r(57141);let v=e=>{let{handleClose:t,formMethods:r,fullClose:l}=e,{setContact:n}=(0,p.A)(),{control:o,handleSubmit:d,setValue:x,formState:{errors:m,isValid:u}}=r,v=e=>{x("contact",e.target.value,{shouldValidate:!0})},N=async e=>{n(e.contact);try{let r=await b.A.post("".concat(j.V2,"/user/auth/send-otp"),{email:e.contact},{headers:{"Content-Type":"application/json"}});"OK"===r.statusText&&t(4)}catch(e){console.error("Login error:",e),(0,g.Qg)("OTP уже отправлен, попробуйте еще раз")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.c7,{className:"px-[40px] pt-5",children:[(0,s.jsx)(a.L3,{className:"font-arial font-normal text-[26px] text-black",children:"Вход или регистрация"}),(0,s.jsx)("button",{onClick:()=>l(),className:"text-black hover:text-gray-600 focus:outline-none absolute right-4 top-4",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})})]}),(0,s.jsx)(a.rr,{className:"hidden",children:"asdsad"}),(0,s.jsxs)("div",{className:"px-[40px]",children:[(0,s.jsx)(c.lV,{...r,children:(0,s.jsxs)("form",{noValidate:!0,onSubmit:d(N),className:"pb-5",children:[(0,s.jsx)(c.zB,{control:o,name:"contact",render:e=>{var t;let{field:r}=e;return(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.MJ,{children:(0,s.jsx)("input",{placeholder:"Телефон или E-mail",type:"text",...r,onChange:v,className:"w-full px-3 py-[12px] text-sm placeholder:text-darkSoul focus:outline-none \n                        ring-1 ring-darkSoul focus:ring-2 hover:ring-cerulean/70\n                        ".concat(m.contact?"ring-red-500 focus:ring-red-500":"focus:ring-cerulean/70")})}),(0,s.jsxs)(c.C5,{children:[null==(t=m.contact)?void 0:t.message," "]})]})}}),(0,s.jsx)(f.$,{type:"submit",disabled:!u,className:"mt-6 w-full h-12 bg-cerulean text-white pt-[15px] pb-[17px] font-bold text-base leading-[18px] rounded-[9px] hover:bg-cerulean/90 hoverEffect\n                ".concat(u?"":" bg-darkSoul "),children:"Продолжить"})]})}),(0,s.jsx)("div",{className:"pb-6 border-b border-beluga flex justify-center",children:(0,s.jsx)(f.$,{variant:"link",onClick:()=>t(2),className:"font-arial font-normal text-base underline-offset-4 text-linkColor group",children:(0,s.jsx)("p",{className:"group-hover:underline hoverEffect",children:"Войти с паролем"})})}),(0,s.jsx)(h,{fullClose:l})]})]})},N=e=>{let{handleClose:t,formMethods:r,fullClose:l}=e,{control:n,handleSubmit:o,formState:{errors:d,isValid:x}}=r,{setAuth:m}=(0,p.A)(),u=async e=>{try{let t=await b.A.post(j.IC,e);"OK"===t.statusText&&(l(),m(!0),localStorage.setItem("sector-token",t.data.token),(0,g.Te)("Вы успешно вошли в систему!"))}catch(e){400===e.status&&(0,g.Qg)("Парол или E-mail неверны")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.c7,{className:"px-[40px] pt-5 ",children:[(0,s.jsx)(a.L3,{className:"font-arial font-normal text-[26px] text-black",children:"Вход с паролем"}),(0,s.jsx)("button",{onClick:()=>l(),className:"text-black hover:text-gray-600 focus:outline-none absolute right-4 top-4",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"px-[40px]",children:[(0,s.jsx)(c.lV,{...r,children:(0,s.jsxs)("form",{noValidate:!0,onSubmit:o(u),className:"pb-5",children:[(0,s.jsx)(c.zB,{control:n,name:"email",render:e=>{var t;let{field:r}=e;return(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.MJ,{children:(0,s.jsx)("input",{placeholder:"Введите E-mail",type:"email",...r,className:"w-full px-3 py-[12px] text-sm placeholder:text-darkSoul focus:outline-none ring-1 \n                        ring-darkSoul focus:ring-2 hover:ring-cerulean/70\n                      ".concat(d.email?"ring-red-500 focus:ring-red-500":"focus:ring-cerulean/70")})}),(0,s.jsx)(c.C5,{children:null==(t=d.email)?void 0:t.message})]})}}),(0,s.jsx)(c.zB,{control:n,name:"password",render:e=>{var t;let{field:r}=e;return(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.MJ,{children:(0,s.jsx)("input",{placeholder:"Введите пароль",type:"password",...r,className:"w-full px-3 py-[12px] mt-2 text-sm placeholder:text-darkSoul focus:outline-none \n                        ring-1 ring-darkSoul focus:ring-2 hover:ring-cerulean/70\n                        ".concat(d.password?"ring-red-500 focus:ring-red-500":"focus:ring-cerulean/70")})}),(0,s.jsx)(c.C5,{children:null==(t=d.password)?void 0:t.message})]})}}),(0,s.jsx)(f.$,{disabled:!x,type:"submit",className:"mt-6 w-full h-12 bg-cerulean text-white pt-[15px] pb-[17px] font-bold text-base leading-[18px] rounded-[9px] hover:bg-cerulean/90 hoverEffect\n                ".concat(x?"":" bg-darkSoul "),children:"Войти"})]})}),(0,s.jsxs)("div",{className:"pb-6 border-b border-beluga flex flex-col gap-3 items-center-center",children:[(0,s.jsx)("button",{onClick:()=>t(3),className:"font-arial font-normal text-base underline-offset-4 text-linkColor group",children:(0,s.jsx)("p",{className:"group-hover:underline hoverEffect",children:"Забыли пароль?"})}),(0,s.jsx)("button",{onClick:()=>t(1),className:"font-arial font-normal text-base underline-offset-4 text-linkColor group",children:(0,s.jsx)("p",{className:"group-hover:underline hoverEffect",children:"Выбрать другой способ входа"})})]}),(0,s.jsx)(h,{fullClose:l})]})]})},y=e=>{let{formMethods:t,fullClose:r}=e,{control:l,handleSubmit:n,formState:{errors:o,isValid:d}}=t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.c7,{className:"px-[40px] pt-8",children:[(0,s.jsx)(a.L3,{className:"font-arial font-normal text-[26px] text-black",children:"Восстановление пароля"}),(0,s.jsx)("button",{onClick:()=>r(),className:"text-black hover:text-gray-600 focus:outline-none absolute right-4 top-4",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})})]}),(0,s.jsx)("div",{className:"px-[40px]",children:(0,s.jsx)(c.lV,{...t,children:(0,s.jsxs)("form",{noValidate:!0,onSubmit:n(e=>{console.log("Step 3 Data:",e)}),className:"pb-[32px]",children:[(0,s.jsx)(c.zB,{control:l,name:"resetEmail",render:e=>{var t;let{field:r}=e;return(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.MJ,{children:(0,s.jsx)("input",{placeholder:"Введите ваш E-mail",type:"email",...r,className:"w-full px-3 py-[12px] mt-2 text-sm placeholder:text-darkSoul focus:outline-none \n                        ring-1 ring-darkSoul focus:ring-2 hover:ring-cerulean/70\n                        ".concat(o.resetEmail?"ring-red-500 focus:ring-red-500":"focus:ring-cerulean/70")})}),(0,s.jsx)(c.C5,{children:null==(t=o.resetEmail)?void 0:t.message})]})}}),(0,s.jsx)(f.$,{disabled:!d,type:"submit",className:"mt-6 w-full h-12 bg-cerulean text-white pt-[15px] pb-[17px] font-bold text-base leading-[18px] rounded-[9px] hover:bg-cerulean/90 hoverEffect\n                ".concat(d?"":" bg-darkSoul "),children:"Восстановить пароль"})]})})})]})};var w=r(23464),C=r(47864),k=r(22073);let S=e=>{let{handleClose:t,formMethods:r,fullClose:n}=e,{control:o,setValue:d,watch:x,formState:{errors:m}}=r,{setAuth:u,contact:b}=(0,p.A)(),[j,v]=(0,l.useState)(!1),[N,y]=(0,l.useState)(null);(0,l.useEffect)(()=>{N||y(Date.now()+4e4)},[N]);let S=async e=>{d("optCode",e.target.value,{shouldValidate:!0});let t=x("optCode");if((0,k.yb)(t))try{let e=await w.A.post("".concat("https://api.sectortechnology.uz","/user/auth/sign-up"),{email:b,optCode:t},{headers:{"Content-Type":"application/json"}});console.log(e),n(),u(!0),localStorage.setItem("sector-token",e.data.token),(0,g.Te)("Вы успешно зарегистрировались!!")}catch(e){console.error("Login error:",e),(0,g.Qg)("Ошибка регистрации")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.c7,{className:"px-[40px] pt-5",children:[(0,s.jsx)(a.L3,{className:"font-arial font-normal text-[26px] text-black",children:"Введите код из E-mail"}),(0,s.jsx)("button",{onClick:()=>n(),className:"text-black hover:text-gray-600 focus:outline-none absolute right-4 top-4",children:(0,s.jsx)(i.A,{className:"w-6 h-6"})})]}),(0,s.jsxs)(a.rr,{className:"px-[40px] font-normal text-base text-textColor",children:["Email получателя: ",(0,k.vA)(b)]}),(0,s.jsxs)("div",{className:"px-[40px]",children:[(0,s.jsx)(c.lV,{...r,children:(0,s.jsxs)("form",{noValidate:!0,className:"pb-5",children:[(0,s.jsx)(c.zB,{control:o,name:"optCode",render:e=>{var t;let{field:r}=e;return(0,s.jsxs)(c.eI,{className:"mb-3",children:[(0,s.jsx)(c.MJ,{children:(0,s.jsx)("input",{placeholder:"Введите пароль",type:"text",...r,onChange:e=>{r.onChange(e),S(e)},className:"w-full px-3 py-[12px] mt-2 text-sm placeholder:text-darkSoul focus:outline-none \n                        ring-1 ring-darkSoul focus:ring-2 hover:ring-cerulean/70\n                        ".concat(m.optCode?"ring-red-500 focus:ring-red-500":"focus:ring-cerulean/70")})}),(0,s.jsxs)(c.C5,{children:[null==(t=m.optCode)?void 0:t.message," "]})]})}}),j?(0,s.jsx)(f.$,{type:"submit",onClick:()=>{v(!1),y(Date.now()+4e4)},className:"mt-6 w-full h-12 bg-cerulean text-white pt-[15px] pb-[17px] font-bold text-base leading-[18px] rounded-[9px] hover:bg-cerulean/90 hoverEffect",children:"Отправить код повторно"}):(0,s.jsxs)("div",{className:"flex justify-center items-center mb-2 gap-1",children:[(0,s.jsx)("p",{className:"font-normal text-base text-textColor",children:"Отправить код повторно через"}),N&&(0,s.jsx)(C.Ay,{date:N,onComplete:()=>v(!0),renderer:e=>{let{minutes:t,seconds:r}=e;return(0,s.jsxs)("span",{className:"font-normal text-base text-textColor",children:["0",t,":",r<10?"0".concat(r):r]})}}),(0,s.jsx)("p",{className:"font-normal text-base text-textColor",children:" минута"})]})]})}),(0,s.jsx)("div",{className:"pb-6 border-b border-beluga flex justify-center",children:(0,s.jsx)("button",{onClick:()=>t(1),className:"font-arial font-normal text-base underline-offset-4 text-linkColor group",children:(0,s.jsx)("p",{className:"group-hover:underline hoverEffect",children:"Выбрать другой способ входа"})})}),(0,s.jsx)(h,{fullClose:n})]})]})},A=d.Ik({contact:d.Yj().min(1,"Поле обязательно для заполнения").refine(e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||/^\+?[1-9]\d{1,14}$/.test(e),"Введите корректный E-mail или номер телефона")}),F=d.Ik({email:d.Yj().email("Введите корректный E-mail"),password:d.Yj().min(8,"Пароль должен содержать минимум 4 символов")}),E=d.Ik({resetEmail:d.Yj().email("Введите корректный E-mail")}),V=d.Ik({optCode:d.Yj().min(4,"Пароль должен содержать минимум 4 символов")}),I=e=>{let{isOpen:t,handleOpen:r}=e,[d,i]=(0,l.useState)(1),c=(0,n.mN)({resolver:(0,o.u)(A),defaultValues:{contact:""}}),x=(0,n.mN)({resolver:(0,o.u)(F),defaultValues:{email:"",password:""}}),m=(0,n.mN)({resolver:(0,o.u)(E),defaultValues:{resetEmail:""}}),u=(0,n.mN)({resolver:(0,o.u)(V),defaultValues:{optCode:""}}),p=()=>{c.reset(),x.reset(),m.reset(),u.reset()},h=e=>{e?(i(e),p()):i(1)},f=()=>{r(),p()};return(0,l.useEffect)(()=>{t&&(i(1),p())},[t]),(0,s.jsx)(a.lG,{open:t,onOpenChange:r,children:(0,s.jsxs)(a.Cf,{className:"w-[100%] h-[100vh] sm:h-auto sm:max-w-[500px] rounded-none sm:rounded-none p-0",children:[1===d&&(0,s.jsx)(v,{handleClose:h,formMethods:c,fullClose:f}),2===d&&(0,s.jsx)(N,{handleClose:h,formMethods:x,fullClose:f}),3===d&&(0,s.jsx)(y,{formMethods:m,fullClose:f}),4===d&&(0,s.jsx)(S,{handleClose:h,formMethods:u,fullClose:f})]})})},q=I},85057:(e,t,r)=>{r.d(t,{J:()=>i});var s=r(95155),a=r(12115),l=r(40968),n=r(74466),o=r(59434);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,o.cn)(d(),r),...a})});i.displayName=l.b.displayName}}]);