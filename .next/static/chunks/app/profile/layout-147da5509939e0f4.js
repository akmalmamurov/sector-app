(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{7114:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,J:()=>l});var a=r(65453),o=r(46786);let s=(0,a.v)()((0,o.Zr)((e,t)=>({auth:!1,isHydrated:!1,contact:"",favorites:[],cart:[],rowCol:!1,compares:[],selected:[],user:null,agentId:null,setAgent:t=>e({agentId:t}),setHydrated:t=>e({isHydrated:t}),setUser:t=>e({user:t}),setAuth:t=>e({auth:t}),toggleRowCol:t=>e(e=>({rowCol:"boolean"==typeof t?t:!e.rowCol})),selectedCardsList:t=>{e(()=>({selected:t}))},removeSelectedCardsList:()=>{e(()=>({selected:[]}))},setContact:t=>e({contact:t}),toggleFavorites:t=>{e(e=>e.favorites.some(e=>e.id===t.id)?{favorites:e.favorites.filter(e=>e.id!==t.id)}:{favorites:[...e.favorites,t]})},resetFavorites:()=>e({favorites:[]}),addToCart:t=>e(e=>e.cart.find(e=>e.id===t.id)?{cart:e.cart.map(e=>e.id===t.id?{...e,count:(e.count||1)+(t.count||1)}:e)}:{cart:[...e.cart,{...t,count:t.count||1}]}),setQuantity:(t,r)=>{e(e=>({cart:e.cart.map(e=>e.id===t?{...e,count:Math.max(r,1)}:e)}))},toggleCompare:t=>{e(e=>e.compares.some(e=>e.id===t.id)?{compares:e.compares.filter(e=>e.id!==t.id)}:{compares:[...e.compares,t]})},deleteFavorites:t=>{e(e=>({favorites:e.favorites.filter(e=>e.id!==t)}))},deleteCart:t=>{e(e=>({cart:e.cart.filter(e=>e.id!==t)}))},resetCart:()=>e({cart:[]}),removeFromCompares:t=>{e(e=>({compares:e.compares.filter(e=>e.id!==t)}))},resetCompares:()=>e({compares:[]}),getTotalPrice:()=>t().cart.reduce((e,t)=>{var r,a;return e+(null!=(r=t.price)?r:0)*(null!=(a=t.count)?a:1)},0),getGroupedItems:()=>t().cart,logOut:()=>{e({auth:!1,contact:"",agentId:null,rowCol:!1,user:null}),localStorage.removeItem("sector-token")},clearDataAfterTimeout:()=>{t().auth||setTimeout(()=>{t().resetCart(),t().resetFavorites(),t().resetCompares()},6048e5)}}),{name:"sector-app",storage:(0,o.KU)(()=>localStorage),onRehydrateStorage:()=>e=>{localStorage.getItem("sector-token")&&(null==e||e.setAuth(!0)),null==e||e.setHydrated(!0)}})),n=s,l=()=>{s.persist.rehydrate(),localStorage.getItem("sector-token")&&s.setState({auth:!0})}},15628:(e,t,r)=>{Promise.resolve().then(r.bind(r,25572))},25572:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(95155),o=r(7114),s=r(6874),n=r.n(s),l=r(35695);let i=[{name:"Мои заказы",href:"/profile/orders"},{name:"Мои обращения",href:"/profile/issues"},{name:"Контрагенты",href:"/profile/contractors"},{name:"Избранное",href:"/profile/favorites"},{name:"Настройки",href:"/profile/settings"}],u=()=>{let e=(0,l.usePathname)(),t=(0,o.A)(e=>e.auth)?i:i.filter(e=>"/profile/favorites"===e.href);return(0,a.jsx)("div",{style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"overflow-x-auto whitespace-nowrap border-b-[0.5px] border-superSilver",children:(0,a.jsx)("div",{className:"grid grid-cols-5",children:t.map(t=>{let r="/profile/orders"===t.href?"/profile/orders"===e||e.startsWith("/profile/orders/"):e===t.href;return(0,a.jsxs)(n(),{href:t.href,className:"group relative p-6 flex justify-center transition-all duration-150 ease-out text-text-color hover:bg-hoverBg",children:[t.name,(0,a.jsx)("span",{className:"\n                  absolute bottom-0 left-0 w-full h-[5px] transition-opacity\n                  ".concat(r?"bg-gradient-to-r from-cerulean to-blue-400 opacity-100":"bg-superSilver opacity-0 group-hover:opacity-100","\n                ")})]},t.name)})})})}},35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},46786:(e,t,r)=>{"use strict";function a(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var a;let o=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),s=null!=(a=r.getItem(e))?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(e,a)=>r.setItem(e,JSON.stringify(a,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}r.d(t,{KU:()=>a,Zr:()=>s});let o=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>o(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>o(t)(e)}}},s=(e,t)=>(r,s,n)=>{let l,i={storage:a(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},u=!1,c=new Set,d=new Set,m=i.storage;if(!m)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...e)},s,n);let f=()=>{let e=i.partialize({...s()});return m.setItem(i.name,{state:e,version:i.version})},h=n.setState;n.setState=(e,t)=>{h(e,t),f()};let v=e((...e)=>{r(...e),f()},s,n);n.getInitialState=()=>v;let p=()=>{var e,t;if(!m)return;u=!1,c.forEach(e=>{var t;return e(null!=(t=s())?t:v)});let a=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=s())?e:v))||void 0;return o(m.getItem.bind(m))(i.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];else{if(i.migrate){let t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[a,o]=e;if(r(l=i.merge(o,null!=(t=s())?t:v),!0),a)return f()}).then(()=>{null==a||a(l,void 0),l=s(),u=!0,d.forEach(e=>e(l))}).catch(e=>{null==a||a(void 0,e)})};return n.persist={setOptions:e=>{i={...i,...e},e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>u,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},i.skipHydration||p(),l||v}},65453:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var a=r(12115);let o=e=>{let t,r=new Set,a=(e,a)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=a?a:"object"!=typeof o||null===o)?o:Object.assign({},t,o),r.forEach(r=>r(t,e))}},o=()=>t,s={setState:a,getState:o,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(a,o,s);return s},s=e=>e?o(e):o,n=e=>e,l=e=>{let t=s(e),r=e=>(function(e,t=n){let r=a.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},i=e=>e?l(e):l}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,8441,1684,7358],()=>t(15628)),_N_E=e.O()}]);