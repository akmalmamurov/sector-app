(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2601],{78722:(e,t,r)=>{Promise.resolve().then(r.bind(r,65636))},65636:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var l=r(95155),s=r(44870),a=r(37528),n=r(85060),o=r(69606),d=r(43415),i=r(33900),c=r(62591),u=r(98986),m=r(12115),x=r(46754),p=r(11349);let f=()=>{(0,p.Nu)();let e=(0,m.useRef)(null),[t,r]=(0,m.useState)("This is empty"),f=d.Ik({}),h=(0,o.mN)({resolver:(0,n.u)(f),defaultValues:{select:"",search:""}}),v=(0,o.mN)({resolver:(0,n.u)(f),defaultValues:{select:"",tema:""}}),{control:j,handleSubmit:g,formState:{errors:b}}=h,{control:N,handleSubmit:y,formState:{errors:w}}=v,F=async e=>{console.log(e)},C=async e=>{console.log(e)},S=()=>{e.current&&e.current.click()},I=()=>{var t,l;let s=null===(l=e.current)||void 0===l?void 0:null===(t=l.files)||void 0===t?void 0:t[0];s&&r(s.name)};return(0,l.jsxs)("div",{className:"pt-5 pb-10",children:[(0,l.jsx)(s.lV,{...h,children:(0,l.jsxs)("form",{noValidate:!0,onSubmit:g(F),className:"pb-5 grid grid-cols-4 gap-6 mb-8",children:[(0,l.jsx)(s.zB,{control:j,name:"select",render:e=>{var t;let{field:r}=e;return(0,l.jsxs)(s.eI,{children:[(0,l.jsx)(s.MJ,{children:(0,l.jsxs)(a.l6,{...r,children:[(0,l.jsx)(a.bq,{className:"w-full text-[14px] leading-[25px] h-[41px]",children:(0,l.jsx)(a.yv,{placeholder:"Выберите статус"})}),(0,l.jsx)(a.gC,{children:(0,l.jsxs)(a.s3,{children:[(0,l.jsx)(a.eb,{value:"apple",children:"Apple"}),(0,l.jsx)(a.eb,{value:"banana",children:"Banana"}),(0,l.jsx)(a.eb,{value:"blueberry",children:"Blueberry"}),(0,l.jsx)(a.eb,{value:"grapes",children:"Grapes"}),(0,l.jsx)(a.eb,{value:"pineapple",children:"Pineapple"})]})})]})}),(0,l.jsx)(s.C5,{children:null===(t=b.select)||void 0===t?void 0:t.message})]})}}),(0,l.jsx)(s.zB,{control:j,name:"search",render:e=>{var t;let{field:r}=e;return(0,l.jsxs)(s.eI,{children:[(0,l.jsx)(s.MJ,{children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(i.p,{...r,type:"text",placeholder:"Введите поисковый запрос",className:"pr-10 text-[14px] leading-[25px] h-[41px]"}),(0,l.jsx)(c.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-darkSoul",size:20})]})}),(0,l.jsx)(s.C5,{children:null===(t=b.search)||void 0===t?void 0:t.message})]})}}),(0,l.jsx)("button",{className:"bg-cerulean text-white rounded-md",children:(0,l.jsx)("span",{children:"Подать заявку"})})]})}),(0,l.jsx)("div",{className:"border-b border-superSilver pb-4 mb-2",children:(0,l.jsx)("h3",{className:"text-xl font-medium",children:"Подать заявку"})}),(0,l.jsx)(s.lV,{...v,children:(0,l.jsxs)("form",{noValidate:!0,onSubmit:y(C),className:"pb-5 grid grid-cols-7 gap-6 mt-12",children:[(0,l.jsx)(s.zB,{control:N,name:"select",render:e=>{var t;let{field:r}=e;return(0,l.jsxs)(s.eI,{className:"col-span-3",children:[(0,l.jsx)(s.MJ,{children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsxs)(u.J,{htmlFor:"name",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Выберите тему обращения",(0,l.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,l.jsxs)(a.l6,{...r,children:[(0,l.jsx)(a.bq,{className:"w-full text-[14px] leading-[25px] h-[41px] text-textColor",children:(0,l.jsx)(a.yv,{placeholder:"Выберите статус"})}),(0,l.jsx)(a.gC,{children:(0,l.jsxs)(a.s3,{children:[(0,l.jsx)(a.eb,{value:"apple",children:"Apple"}),(0,l.jsx)(a.eb,{value:"banana",children:"Banana"}),(0,l.jsx)(a.eb,{value:"blueberry",children:"Blueberry"}),(0,l.jsx)(a.eb,{value:"grapes",children:"Grapes"}),(0,l.jsx)(a.eb,{value:"pineapple",children:"Pineapple"})]})})]})]})}),(0,l.jsx)(s.C5,{children:null===(t=w.select)||void 0===t?void 0:t.message})]})}}),(0,l.jsx)(s.zB,{control:N,name:"tema",render:e=>{var t;let{field:r}=e;return(0,l.jsxs)(s.eI,{className:"col-span-3",children:[(0,l.jsx)(s.MJ,{children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsxs)(u.J,{htmlFor:"tema",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Тема",(0,l.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,l.jsx)(i.p,{...r,type:"text",id:"tema",className:"text-base rounded-none h-[41px] text-[#000000DE] border-superSilver"})]})}),(0,l.jsx)(s.C5,{children:null===(t=w.tema)||void 0===t?void 0:t.message})]})}}),(0,l.jsx)(s.zB,{control:N,name:"tema",render:e=>{var t;let{field:r}=e;return(0,l.jsxs)(s.eI,{className:"col-span-3",children:[(0,l.jsx)(s.MJ,{children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsxs)(u.J,{htmlFor:"tema",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Ваше имя",(0,l.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,l.jsx)(i.p,{...r,type:"text",id:"tema",className:"text-base rounded-none h-[41px] text-[#000000DE] border-superSilver"})]})}),(0,l.jsx)(s.C5,{children:null===(t=w.tema)||void 0===t?void 0:t.message})]})}}),(0,l.jsx)(s.zB,{control:N,name:"tema",render:e=>{var t;let{field:r}=e;return(0,l.jsxs)(s.eI,{className:"col-span-3",children:[(0,l.jsx)(s.MJ,{children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(u.J,{htmlFor:"tema",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:"Номер заказа"}),(0,l.jsx)(i.p,{...r,type:"text",id:"tema",className:"text-base rounded-none h-[41px] text-[#000000DE] border-superSilver"})]})}),(0,l.jsx)(s.C5,{children:null===(t=w.tema)||void 0===t?void 0:t.message})]})}}),(0,l.jsx)(s.zB,{control:N,name:"tema",render:e=>{var t;let{field:r}=e;return(0,l.jsxs)(s.eI,{className:"col-span-3",children:[(0,l.jsx)(s.MJ,{children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsxs)(u.J,{htmlFor:"tema",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:["Email",(0,l.jsx)("span",{className:"text-cerulean text-sm font-normal",children:"*"})]}),(0,l.jsx)(i.p,{...r,type:"text",id:"tema",className:"text-base rounded-none h-[41px] text-[#000000DE] border-superSilver"})]})}),(0,l.jsx)(s.C5,{children:null===(t=w.tema)||void 0===t?void 0:t.message})]})}}),(0,l.jsx)(s.zB,{control:N,name:"tema",render:r=>{var a;let{field:n}=r;return(0,l.jsxs)(s.eI,{className:"col-span-3",children:[(0,l.jsx)(s.MJ,{children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(u.J,{htmlFor:"fileInput",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:"Прикрепите файл"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(i.p,{...n,type:"file",ref:e,id:"fileInput",onChange:I,accept:".png, .jpg, .jpeg",className:"text-base hidden rounded-none h-[41px] text-[#000000DE] border-superSilver"}),(0,l.jsx)(i.p,{type:"text",id:"fileName",value:t,readOnly:!0,placeholder:"",accept:".png, .jpg, .jpeg",className:"text-base rounded-none h-[41px] text-[#000000DE] border-superSilver"}),(0,l.jsx)("button",{className:"bg-greenLight text-base text-center font-semibold text-white px-6 py-2 rounded-lg hover:bg-green-600 transition",onClick:S,children:"Обзор"})]}),(0,l.jsx)("p",{className:"text-xs leading-[18px] text-[#000000DE]",children:"Допустимые форматы: PNG, JPG, JPEG"})]})}),(0,l.jsx)(s.C5,{children:null===(a=w.tema)||void 0===a?void 0:a.message})]})}}),(0,l.jsx)(s.zB,{control:N,name:"tema",render:e=>{var t;let{field:r}=e;return(0,l.jsxs)(s.eI,{className:"col-span-6",children:[(0,l.jsx)(s.MJ,{children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(u.J,{htmlFor:"tema",className:"text-textColor font-normal text-sm flex gap-1 pb-2",children:"Описание"}),(0,l.jsx)(x.T,{...r,id:"tema",className:"text-base resize-none rounded-none h-[93px] text-[#000000DE] border-superSilver"})]})}),(0,l.jsx)(s.C5,{children:null===(t=w.tema)||void 0===t?void 0:t.message})]})}}),(0,l.jsx)("div",{className:"col-span-2",children:(0,l.jsx)("button",{className:"bg-superSilver px-8 py-2 text-base text-center font-semibold text-darkSoul rounded-[10px] transition",children:"Подать заявку"})})]})})]})}},11644:(e,t,r)=>{"use strict";r.d(t,{P0:()=>d,Qg:()=>c,Te:()=>i});var l=r(95155),s=r(48173),a=r.n(s),n=r(55037);let o={success:{bg:"#6AB04C",text:"#FFFFFF"},warning:{bg:"#FFE8C3",text:"#FFFFFF"},info:{bg:"#CCE3FF",text:"#FFFFFF"},error:{bg:"#FF3333",text:"#FFFFFF"}},d=e=>{let{message:t,type:r,href:s,hrefName:d}=e;n.default.custom(e=>{let{bg:i,text:c}=o[r];return(0,l.jsx)("div",{className:"toastStyle max-w-[500px] w-full py-[15px] pl-[30px] pr-[23px] shadow-toastShadow",style:{backgroundColor:i},children:(0,l.jsxs)("div",{className:"h-full w-full flex flex-col ",children:[(0,l.jsx)("p",{className:"font-normal text-sm ",style:{color:c},children:t}),(0,l.jsx)("div",{className:"flex w-full justify-end mt-[15px]",children:s&&(0,l.jsx)(a(),{href:s,onClick:()=>n.default.remove(e.id),className:"font-normal text-sm text-white underline ",children:d})}),(0,l.jsx)("span",{className:"cursor-pointer text-white absolute top-[18px] right-5",onClick:()=>n.default.remove(e.id),children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[(0,l.jsx)("path",{d:"M18 6 6 18"}),(0,l.jsx)("path",{d:"m6 6 12 12"})]})})]})})})},i=(e,t,r)=>d({message:e,type:"success",href:t,hrefName:r}),c=e=>d({message:e,type:"error"})},44870:(e,t,r)=>{"use strict";r.d(t,{C5:()=>h,MJ:()=>f,eI:()=>p,lV:()=>i,zB:()=>u});var l=r(95155),s=r(12115),a=r(12317),n=r(69606),o=r(21567),d=r(98986);let i=n.Op,c=s.createContext({}),u=e=>{let{...t}=e;return(0,l.jsx)(c.Provider,{value:{name:t.name},children:(0,l.jsx)(n.xI,{...t})})},m=()=>{let e=s.useContext(c),t=s.useContext(x),{getFieldState:r,formState:l}=(0,n.xW)(),a=r(e.name,l);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...a}},x=s.createContext({}),p=s.forwardRef((e,t)=>{let{className:r,...a}=e,n=s.useId();return(0,l.jsx)(x.Provider,{value:{id:n},children:(0,l.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...a})})});p.displayName="FormItem",s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:a,formItemId:n}=m();return(0,l.jsx)(d.J,{ref:t,className:(0,o.cn)(a&&"text-destructive",r),htmlFor:n,...s})}).displayName="FormLabel";let f=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:n,formDescriptionId:o,formMessageId:d}=m();return(0,l.jsx)(a.DX,{ref:t,id:n,"aria-describedby":s?"".concat(o," ").concat(d):"".concat(o),"aria-invalid":!!s,...r})});f.displayName="FormControl",s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:a}=m();return(0,l.jsx)("p",{ref:t,id:a,className:(0,o.cn)("text-[0.8rem] text-muted-foreground",r),...s})}).displayName="FormDescription";let h=s.forwardRef((e,t)=>{let{className:r,children:s,...a}=e,{error:n,formMessageId:d}=m(),i=n?String(null==n?void 0:n.message):s;return i?(0,l.jsx)("p",{ref:t,id:d,className:(0,o.cn)("text-[0.8rem] font-medium text-destructive",r),...a,children:i}):null});h.displayName="FormMessage"},33900:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var l=r(95155),s=r(12115),a=r(21567);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,l.jsx)("input",{type:s,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},98986:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var l=r(95155),s=r(12115),a=r(46195),n=r(31027),o=r(21567);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)(a.b,{ref:t,className:(0,o.cn)(d(),r),...s})});i.displayName=a.b.displayName},37528:(e,t,r)=>{"use strict";r.d(t,{bq:()=>x,eb:()=>v,gC:()=>h,l6:()=>c,s3:()=>u,yv:()=>m});var l=r(95155),s=r(12115),a=r(92712),n=r(32645),o=r(52488),d=r(27193),i=r(21567);let c=a.bL,u=a.YJ,m=a.WT,x=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,l.jsxs)(a.l9,{ref:t,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[s,(0,l.jsx)(a.In,{asChild:!0,children:(0,l.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=a.l9.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)(a.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1 text-textColor",r),...s,children:(0,l.jsx)(o.A,{className:"h-4 w-4"})})});p.displayName=a.PP.displayName;let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)(a.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,l.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=a.wn.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,position:n="popper",...o}=e;return(0,l.jsx)(a.ZL,{children:(0,l.jsxs)(a.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...o,children:[(0,l.jsx)(p,{}),(0,l.jsx)(a.LM,{className:(0,i.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,l.jsx)(f,{})]})})});h.displayName=a.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)(a.JU,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",r),...s})}).displayName=a.JU.displayName;let v=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,l.jsxs)(a.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,l.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(a.VF,{children:(0,l.jsx)(d.A,{className:"h-4 w-4"})})}),(0,l.jsx)(a.p4,{children:s})]})});v.displayName=a.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)(a.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=a.wv.displayName},46754:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var l=r(95155),s=r(12115),a=r(21567);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("textarea",{className:(0,a.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});n.displayName="Textarea"},47640:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var l=r(99827),s=r(60709);let a=(0,l.v)()((0,s.Zr)(e=>({cartForm:null,contactForm:null,deliveryForm:null,garanteePrice:null,selectedGuarantees:{},addCartForm:t=>e({cartForm:t}),addContactForm:t=>e({contactForm:t}),addDeliveryForm:t=>e({deliveryForm:t}),addGaranteePrice:t=>e({garanteePrice:t}),setSelectedGuarantee:(t,r)=>e(e=>({selectedGuarantees:{...e.selectedGuarantees,[t]:r}}))}),{name:"sfeo-mtr",storage:(0,s.KU)(()=>sessionStorage)}))},12527:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,J:()=>o});var l=r(99827),s=r(60709);let a=(0,l.v)()((0,s.Zr)((e,t)=>({auth:!1,isHydrated:!1,contact:"",favorites:[],cart:[],rowCol:!1,compares:[],selected:[],user:null,agentId:null,setAgent:t=>e({agentId:t}),setHydrated:t=>e({isHydrated:t}),setUser:t=>e({user:t}),setAuth:t=>e({auth:t}),toggleRowCol:t=>e(e=>({rowCol:"boolean"==typeof t?t:!e.rowCol})),selectedCardsList:t=>{e(()=>({selected:t}))},removeSelectedCardsList:()=>{e(()=>({selected:[]}))},setContact:t=>e({contact:t}),toggleFavorites:t=>{e(e=>e.favorites.some(e=>e.id===t.id)?{favorites:e.favorites.filter(e=>e.id!==t.id)}:{favorites:[...e.favorites,t]})},resetFavorites:()=>e({favorites:[]}),addToCart:t=>e(e=>e.cart.find(e=>e.id===t.id)?{cart:e.cart.map(e=>e.id===t.id?{...e,count:(e.count||1)+(t.count||1)}:e)}:{cart:[...e.cart,{...t,count:t.count||1}]}),setQuantity:(t,r)=>{e(e=>({cart:e.cart.map(e=>e.id===t?{...e,count:Math.max(r,1)}:e)}))},toggleCompare:t=>{e(e=>e.compares.some(e=>e.id===t.id)?{compares:e.compares.filter(e=>e.id!==t.id)}:{compares:[...e.compares,t]})},deleteFavorites:t=>{e(e=>({favorites:e.favorites.filter(e=>e.id!==t)}))},deleteCart:t=>{e(e=>({cart:e.cart.filter(e=>e.id!==t)}))},resetCart:()=>e({cart:[]}),removeFromCompares:t=>{e(e=>({compares:e.compares.filter(e=>e.id!==t)}))},resetCompares:()=>e({compares:[]}),getTotalPrice:()=>t().cart.reduce((e,t)=>{var r,l;return e+(null!==(r=t.price)&&void 0!==r?r:0)*(null!==(l=t.count)&&void 0!==l?l:1)},0),getGroupedItems:()=>t().cart,logOut:()=>{e({auth:!1,contact:"",agentId:null,rowCol:!1,user:null}),localStorage.removeItem("sector-token")},clearDataAfterTimeout:()=>{t().auth||setTimeout(()=>{t().resetCart(),t().resetFavorites(),t().resetCompares()},6048e5)}}),{name:"sector-app",storage:(0,s.KU)(()=>localStorage),onRehydrateStorage:()=>e=>{localStorage.getItem("sector-token")&&(null==e||e.setAuth(!0)),null==e||e.setHydrated(!0)}})),n=a,o=()=>{a.persist.rehydrate(),localStorage.getItem("sector-token")&&a.setState({auth:!0})}},11349:(e,t,r)=>{"use strict";r.d(t,{nu:()=>i,vL:()=>o,fl:()=>s,Nu:()=>u,YU:()=>m});var l=r(12115);let s=()=>{let[e,t]=(0,l.useState)(!1),[r,s]=(0,l.useState)(""),[a,n]=(0,l.useState)(null);return{isOpen:e,message:r,openModal:(e,r)=>{s(e),n(()=>r),t(!0)},closeModal:()=>{t(!1),n(null)},onConfirm:a}};var a=r(11644),n=r(12527);function o(e){let[t,r]=(0,l.useState)(!1),[s,o]=(0,l.useState)(()=>null==e?void 0:e.map(e=>e.id)),[d,i]=(0,l.useState)(null==e?void 0:e.length),{auth:c,clearDataAfterTimeout:u}=(0,n.A)(),m=(0,l.useRef)(!1);(0,l.useEffect)(()=>{r(!0)},[]),(0,l.useEffect)(()=>{!1===c&&u()},[c,u]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{!1!==c||m.current||((0,a.Qg)("Вы не авторизованы, рекомендуем авторизоваться"),m.current=!0)},500);return()=>clearTimeout(e)},[c]),(0,l.useEffect)(()=>{(null==e?void 0:e.length)!==d&&(o(null==e?void 0:e.map(e=>e.id)),i(null==e?void 0:e.length))},[e,d]);let x=(null==e?void 0:e.length)>0&&(null==s?void 0:s.length)===(null==e?void 0:e.length),p=null==e?void 0:e.filter(e=>null==s?void 0:s.includes(e.id));return{isClient:t,selectedItems:s,toggleAllItems:()=>{o(t=>(null==t?void 0:t.length)===(null==e?void 0:e.length)?[]:null==e?void 0:e.map(e=>e.id))},toggleSingleItem:e=>{o(t=>(null==t?void 0:t.includes(e))?t.filter(t=>t!==e):[...t,e])},isAllChecked:x,selectedCards:p}}var d=r(47640);function i(e){let{cart:t,selectedItems:r,setValue:a,cartForm:n,resetCart:o,deleteCart:i}=e,c=(0,d.A)(e=>e.selectedGuarantees);(0,l.useEffect)(()=>{(null==n?void 0:n.city)&&a("city",n.city)},[null==n?void 0:n.city,a]),(0,l.useEffect)(()=>{let e=t.filter(e=>r.includes(e.id)),l=e.reduce((e,t)=>e+t.price*(t.count||1),0);a("productDetails",e.map(e=>{var t,r;return{productId:e.id,count:null!==(t=e.count)&&void 0!==t?t:0,garanteeId:null!==(r=c[e.id])&&void 0!==r?r:"0"}})),a("total",l)},[r,t,a,c]);let{isOpen:u,message:m,openModal:x,closeModal:p,onConfirm:f}=s();return{isConfirmOpen:u,message:m,onConfirm:f,closeModal:p,handleDeleteAll:()=>{x("Вы уверены, что хотите удалить все товары из корзины?",()=>o())},handleDeleteClick:e=>{x("Вы уверены, что хотите удалить товар из корзины?",()=>i(e))}}}var c=r(76046);function u(){let{auth:e,isHydrated:t}=(0,n.A)(),r=(0,c.useRouter)();return(0,l.useEffect)(()=>{t&&!e&&r.replace("/")},[e,t,r]),e}function m(){let[e,t]=(0,l.useState)("up"),r=(0,l.useRef)(0);return(0,l.useEffect)(()=>{r.current=window.scrollY;let e=()=>{let e=window.scrollY;t(e>r.current?"down":"up"),r.current=e};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e}},21567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var l=r(43463),s=r(69795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,l.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[1181,8173,5037,1387,8125,9795,40,8817,8441,1517,7358],()=>t(78722)),_N_E=e.O()}]);