(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[740],{34281:(e,t,r)=>{Promise.resolve().then(r.bind(r,19095))},17534:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var s=r(93952),l=r(74857);let a=async()=>{try{return(await (0,l.A)(s.Bx)).data.data||[]}catch(e){return console.log(e),[]}}},89033:(e,t,r)=>{"use strict";r.d(t,{WU:()=>c,E4:()=>i,vD:()=>n,hg:()=>h,WF:()=>p,JN:()=>a,G5:()=>x,wz:()=>o,x4:()=>d,f6:()=>u}),r(17534);var s=r(74857),l=r(93952);let a=async e=>{try{let t={...e&&{name:e}};return(await (0,s.A)(l.C0,{params:t})).data.data||[]}catch(e){return console.log(e),[]}},o=async()=>{try{return(await (0,s.A)(l.QG)).data.data||[]}catch(e){return console.log(e),[]}},n=async(e,t)=>{try{return(await (0,s.A)(l.w8,{params:{[t]:e}})).data.data||[]}catch(e){return console.log(e),[]}},c=async e=>{try{let t={...e&&{inn:e}};return(await s.A.get(l.d8,{params:t})).data.data||[]}catch(e){return console.log(e),[]}},d=async e=>{try{return(await s.A.patch("".concat(l.QM,"/").concat(e),{isFavorite:!0})).data.data||[]}catch(e){return console.log(e),[]}},i=async e=>{try{return(await (0,s.A)("".concat(l.Q9,"/").concat(e))).data.data||[]}catch(e){return console.log(e),[]}},u=async e=>{try{return(await s.A.patch("".concat(l.rH,"/").concat(e),{isMain:!0})).data.data||[]}catch(e){return console.log(e),[]}},x=async()=>{try{return(await (0,s.A)(l.RD)).data.data||[]}catch(e){return console.log(e),[]}};var m=r(32);let p=async(e,t,r,a,o,n,c)=>{try{let d={...e&&{kontragentName:e},...t&&{orderPriceStatus:t},...r&&{orderDeleveryType:r},...a&&{orderType:a},...o&&{periodStart:(0,m.GP)(o,"yyyy-MM-dd")},...n&&{periodEnd:(0,m.GP)(n,"yyyy-MM-dd")},...c&&{orderNumber:c}};return(await (0,s.A)(l.bb,{params:d})).data.data||[]}catch(e){return console.log(e),[]}},h=async()=>{try{return(await (0,s.A)(l.lh)).data.data||[]}catch(e){return console.log(e),[]}}},19095:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F});var s=r(95155),l=r(48999),a=r(48173),o=r.n(a),n=r(65686),c=r(98986),d=r(70488),i=r(11349),u=r(89033),x=r(62335),m=r(35906),p=r(27193),h=r(12115),f=r(69606),g=r(11644),b=r(74857),v=r(93952);let j=()=>{let{data:e,isLoading:t}=(0,x.I)({queryKey:["user"],queryFn:u.wz}),{register:r,handleSubmit:l,reset:a,formState:{isDirty:o}}=(0,f.mN)({mode:"onChange",defaultValues:{name:"",email:""}}),n=(0,m.jE)();(0,h.useEffect)(()=>{e&&a({name:e.name,email:e.email})},[e,a]);let c=async e=>{try{let t=await b.A.patch(v.Ds,e);n.invalidateQueries({queryKey:["user"]}),(0,g.Te)("Данные успешно обновлены"),localStorage.setItem("sector-token",t.data.token)}catch(e){console.log(e),(0,g.Qg)("Произошла ошибка")}console.log(e)};return t?(0,s.jsx)("p",{children:"Загрузка…"}):(0,s.jsx)("div",{className:"border-b border-superSilver pt-5",children:(0,s.jsxs)("form",{noValidate:!0,onSubmit:l(c),className:"pb-5",children:[(0,s.jsx)("div",{className:"grid grid-cols-4",children:(0,s.jsx)("div",{className:"col-span-3",children:(0,s.jsxs)("div",{className:"flex gap-[100px]",children:[(0,s.jsx)("div",{className:"w-[125px] shrink-0",children:(0,s.jsx)("p",{className:"text-[#000000DE] text-sm pt-5",children:"Основные данные"})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-[22px] flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{htmlFor:"name",className:"text-textColor font-normal text-sm inline-block pb-2 pt-10 lg:pt-0",children:"Имя"}),(0,s.jsx)("input",{id:"name",type:"text",autoComplete:"off",...r("name"),className:"border border-superSilver h-10 focus:outline-none hover:border-cerulean/80 focus:border-cerulean text-black px-[15px]"})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{htmlFor:"email",className:"text-textColor font-normal text-sm inline-block pb-2 pt-10 lg:pt-0",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",autoComplete:"off",...r("email"),className:"border border-superSilver h-10 focus:outline-none hover:border-cerulean/80 focus:border-cerulean text-black px-[15px]"})]})]})]})})}),(0,s.jsxs)("button",{type:"submit",disabled:!o,className:"border mt-6 disabled:border-cerulean disabled:bg-white disabled:text-cerulean  flex items-center gap-2  py-2 px-[23px] justify-self-end text-white bg-cerulean",children:[(0,s.jsx)(p.A,{}),(0,s.jsx)("span",{className:" text-base font-semibold",children:"Сохранить"})]})]})})};var w=r(97752),N=r(70632),y=r(1068);let C=()=>{let{data:e,isLoading:t}=(0,x.I)({queryKey:["user"],queryFn:u.wz}),r=(0,m.jE)(),{register:l,handleSubmit:a,watch:o,reset:n,formState:{errors:c}}=(0,f.mN)({mode:"onChange",defaultValues:{oldPassword:"",newPassword:"",confirmPassword:""}});(0,h.useEffect)(()=>{e&&n(e)},[e,n]);let[d,i]=(0,h.useState)(!1),[j,C]=(0,h.useState)(!1),[F,k]=(0,h.useState)(!1);console.log(e);let S=async e=>{try{let{oldPassword:t,newPassword:s}=e,l=await b.A.patch(v.HD,{oldPassword:t,newPassword:s});r.invalidateQueries({queryKey:["user"]}),(0,g.Te)("Пароль успешно обновлён"),localStorage.setItem("sector-token",l.data.token)}catch(e){(0,g.Qg)("Ошибка при обновлении пароля")}};return t?(0,s.jsx)("p",{children:"Загрузка…"}):(0,s.jsx)("div",{className:"border-b border-superSilver pt-5",children:(0,s.jsxs)("form",{noValidate:!0,onSubmit:a(S),className:"pb-5",children:[(0,s.jsx)("div",{className:"grid grid-cols-4",children:(0,s.jsx)("div",{className:"col-span-4",children:(0,s.jsxs)("div",{className:"flex gap-[100px]",children:[(0,s.jsx)("div",{className:"w-[125px] shrink-0",children:(0,s.jsx)("p",{className:"text-[#000000DE] text-sm pt-5",children:"Основные данные"})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-[22px] flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{htmlFor:"oldPassword",className:"text-textColor text-sm pb-2 pt-10 lg:pt-0 select-none",children:"Старый пароль"}),(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)("input",{id:"oldPassword",type:d?"text":"password",autoComplete:"off",...l("oldPassword",{required:!1}),className:"border w-full border-superSilver h-10 px-[15px] focus:outline-none hover:border-cerulean/80 focus:border-cerulean"}),(0,s.jsx)("span",{onClick:()=>i(e=>!e),className:"absolute right-3 top-[12px] cursor-pointer",children:d?(0,s.jsx)(w.A,{className:"w-6 h-5"}):(0,s.jsx)(N.A,{className:"w-6 h-5"})})]}),c.oldPassword&&(0,s.jsx)("span",{className:"text-red-500 text-sm mt-1",children:c.oldPassword.message})]}),(0,s.jsxs)("div",{className:"flex flex-col relative",children:[(0,s.jsx)("label",{htmlFor:"newPassword",className:"text-textColor text-sm pb-2 pt-10 lg:pt-0",children:"Новый пароль"}),(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)("input",{id:"newPassword",onDrop:e=>e.preventDefault(),onPaste:e=>e.preventDefault(),type:j?"text":"password",autoComplete:"off",...l("newPassword",{required:"Введите новый пароль",pattern:{value:/(?=.*?[0-9])(?=.*?[A-Za-z]).{8,}/,message:"Минимум 8 символов, одна буква и одна цифра"}}),className:"border w-full border-superSilver h-10 px-[15px] focus:outline-none hover:border-cerulean/80 focus:border-cerulean"}),(0,s.jsx)("span",{onClick:()=>C(e=>!e),className:"absolute right-3 top-[12px] cursor-pointer",children:j?(0,s.jsx)(w.A,{className:"w-6 h-5"}):(0,s.jsx)(N.A,{className:"w-6 h-5"})})]}),c.newPassword&&(0,s.jsx)("span",{className:"text-red-500 text-sm mt-1",children:c.newPassword.message})]}),(0,s.jsxs)("div",{className:"flex flex-col relative",children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"text-textColor text-sm pb-2 pt-10 lg:pt-0",children:"Повторите пароль"}),(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)("input",{id:"confirmPassword",type:F?"text":"password",onPaste:e=>e.preventDefault(),onDrop:e=>e.preventDefault(),autoComplete:"off",...l("confirmPassword",{required:"Подтвердите пароль",validate:e=>e===o("newPassword")||"Пароли не совпадают"}),className:"border w-full border-superSilver h-10 px-[15px] focus:outline-none hover:border-cerulean/80 focus:border-cerulean"}),(0,s.jsx)("span",{onClick:()=>k(e=>!e),className:"absolute right-3 top-[12px] cursor-pointer",children:F?(0,s.jsx)(w.A,{className:"w-6 h-5"}):(0,s.jsx)(N.A,{className:"w-6 h-5"})})]}),c.confirmPassword&&(0,s.jsx)("span",{className:"text-red-500 text-sm mt-1",children:c.confirmPassword.message})]})]})]})})}),(0,s.jsxs)("div",{className:"bg-whiteOut flex items-center gap-2 p-5 pl-0 ml-[225px] mt-[10px]",children:[(0,s.jsx)("div",{className:"w-[70px] flex justify-center items-center",children:(0,s.jsx)(y.A,{className:"text-[#8C8C8C] w-[24px] h-[24px]"})}),(0,s.jsxs)("div",{className:"text-[#8C8C8C] font-normal text-xs flex-1",children:[(0,s.jsx)("p",{children:"ВНИМАНИЕ!"}),(0,s.jsxs)("pre",{className:"whitespace-pre-wrap",children:["Пароль должен содержать не менее 8 символов, одну букву (A-z)(А-я) и одну цифру (0-9). Можно использовать специальные символы (! “ # $ % & ' ( ) * + , - . / : ; < = > ? @ [ ] ^_` ","{"," | ","}"," ","~ )"]})]})]}),(0,s.jsxs)("button",{type:"submit",className:"border mt-6 bg-cerulean text-white flex items-center gap-2 py-2 px-[23px] justify-self-end hover:opacity-90",children:[(0,s.jsx)(p.A,{}),(0,s.jsx)("span",{className:"text-base font-semibold",children:"Сохранить"})]})]})})},F=()=>((0,i.Nu)(),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 border border-cerulean h-[51px] px-4 mb-4",children:[(0,s.jsx)(l.VR,{}),(0,s.jsx)(o(),{className:"text-cerulean text-xs hover:underline",href:"#",children:"Открыть бота"})]}),(0,s.jsxs)("div",{className:"border border-superSilver p-4",children:[(0,s.jsx)("div",{className:"border-b border-superSilver",children:(0,s.jsxs)("h3",{className:"relative inline-block pb-4 pt-4 pr-2",children:["Настройка аккаунта"," ",(0,s.jsx)("span",{className:"absolute -bottom-0 left-0 w-full h-[4px] transition-opacity bg-gradient-to-r from-cerulean to-blue-400 opacity-100"})]})}),(0,s.jsx)(j,{}),(0,s.jsx)(C,{}),(0,s.jsxs)("div",{className:"border-b border-superSilver py-5",children:[(0,s.jsxs)("div",{className:"block lg:grid lg:grid-cols-11 gap-6 items-center mb-3",children:[(0,s.jsx)("p",{className:"text-[#000000DE] col-span-2 text-sm pt-8 lg:pt-0",children:"Контакты"}),(0,s.jsxs)("div",{className:"pb-8 lg:pb-12 col-span-3 pt-10 lg:pt-0",children:[(0,s.jsx)("p",{className:"text-sm text-[#000000DE] font-normal pb-5 lg:pt-0",children:"Телефон"}),(0,s.jsx)("span",{className:"text-base font-normal ",children:"+998 99 861 6951"})]})]}),(0,s.jsxs)("button",{className:"border border-cerulean rounded-xl flex items-center gap-2 h-[42px] p-4 justify-self-end",children:[(0,s.jsx)(n.A,{className:"text-cerulean w-[22px] h-[22px]"}),(0,s.jsx)("span",{className:"text-cerulean text-base font-semibold",children:"Изменить"})]})]}),(0,s.jsx)("div",{className:"border-b border-superSilver pt-5 pb-2 hidden",children:(0,s.jsxs)("div",{className:"block lg:grid grid-cols-11 gap-6 items-center mb-3",children:[(0,s.jsx)("p",{className:"text-[#000000DE] text-sm col-span-2",children:"Уведомления"}),(0,s.jsx)("div",{className:"col-span-9 -ml-3 sm:-ml-0 place-self-start",children:(0,s.jsx)("table",{className:"w-full border-separate border-spacing-y-3",children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"bg-whiteOut border border-superSilver text-start p-3 text-[#000000DE] text-sm font-normal",children:(0,s.jsx)("p",{children:"Выставлен счёт"})}),(0,s.jsx)("td",{className:"border border-superSilver border-r-0 pl-1 px-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.d,{id:"airplane-mode"}),(0,s.jsx)(c.J,{style:{fontWeight:400},htmlFor:"airplane-mode text-textColor text-xs ",children:"E-mail"})]})}),(0,s.jsx)("td",{className:"border border-superSilver border-l-0 pl-1 px-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.d,{id:"airplane-mode"}),(0,s.jsx)(c.J,{style:{fontWeight:400},htmlFor:"airplane-mode text-textColor text-xs",children:"Telegram"})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"bg-whiteOut border border-superSilver text-start p-3 text-[#000000DE] text-sm font-normal",children:(0,s.jsx)("p",{children:"Изменение статуса заказа"})}),(0,s.jsx)("td",{className:"border border-superSilver border-r-0 pl-1 px-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.d,{id:"airplane-mode"}),(0,s.jsx)(c.J,{style:{fontWeight:400},htmlFor:"airplane-mode text-textColor text-xs ",children:"E-mail"})]})}),(0,s.jsx)("td",{className:"border border-superSilver border-l-0 pl-1 px-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.d,{id:"airplane-mode"}),(0,s.jsx)(c.J,{style:{fontWeight:400},htmlFor:"airplane-mode text-textColor text-xs",children:"Telegram"})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"bg-whiteOut border border-superSilver text-start p-3 text-[#000000DE] text-sm font-normal",children:(0,s.jsx)("p",{children:"Рассылка прайс-листа"})}),(0,s.jsx)("td",{className:"border border-superSilver border-r-0 pl-1 px-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.d,{id:"airplane-mode"}),(0,s.jsx)(c.J,{style:{fontWeight:400},htmlFor:"airplane-mode text-textColor text-xs",children:"E-mail"})]})}),(0,s.jsx)("td",{className:"border border-superSilver border-l-0 pl-1 px-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.d,{id:"airplane-mode"}),(0,s.jsx)(c.J,{style:{fontWeight:400},htmlFor:"airplane-mode text-textColor text-xs ",children:"Telegram"})]})})]})]})})})]})}),(0,s.jsx)("div",{className:"pt-5 pb-2",children:(0,s.jsxs)("div",{className:"block lg:grid grid-cols-11 gap-6 items-center mb-3",children:[(0,s.jsxs)("p",{className:"text-[#000000DE] text-sm col-span-2",children:["Дополнительные ",(0,s.jsx)("br",{})," настройки"]}),(0,s.jsxs)("div",{className:"col-span-7 place-self-start block lg:flex items-center w-full gap-4 pt-10 lg:pt-0",children:[(0,s.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,s.jsx)(c.J,{htmlFor:"name",className:"text-textColor font-normal text-sm inline-block pb-2",children:"Валюта магазина"}),(0,s.jsx)("button",{className:"bg-greenLight py-1.5 text-white border text-base font-semibold text-center border-greenLight",children:"UZS(сум)"})]}),(0,s.jsxs)("div",{className:"flex flex-col w-full flex-1 pt-6 lg:pt-0",children:[(0,s.jsx)(c.J,{htmlFor:"name",className:"text-textColor font-normal text-sm inline-block pb-2",children:"Отображение каталога"}),(0,s.jsxs)("div",{className:"flex items-center w-full",children:[(0,s.jsx)("button",{className:"bg-white w-1/2 py-1.5 text-[#8C8C8C] border border-superSilver text-base font-semibold text-center ",children:"Таблица"}),(0,s.jsx)("button",{className:"bg-greenLight w-1/2 py-1.5 text-white border text-base font-semibold text-center border-greenLight",children:"Плитка"})]})]})]})]})})]})]}))},11644:(e,t,r)=>{"use strict";r.d(t,{P0:()=>c,Qg:()=>i,Te:()=>d});var s=r(95155),l=r(48173),a=r.n(l),o=r(55037);let n={success:{bg:"#6AB04C",text:"#FFFFFF"},warning:{bg:"#FFE8C3",text:"#FFFFFF"},info:{bg:"#CCE3FF",text:"#FFFFFF"},error:{bg:"#FF3333",text:"#FFFFFF"}},c=e=>{let{message:t,type:r,href:l,hrefName:c}=e;o.default.custom(e=>{let{bg:d,text:i}=n[r];return(0,s.jsx)("div",{className:"toastStyle max-w-[500px] w-full py-[15px] pl-[30px] pr-[23px] shadow-toastShadow",style:{backgroundColor:d},children:(0,s.jsxs)("div",{className:"h-full w-full flex flex-col ",children:[(0,s.jsx)("p",{className:"font-normal text-sm ",style:{color:i},children:t}),(0,s.jsx)("div",{className:"flex w-full justify-end mt-[15px]",children:l&&(0,s.jsx)(a(),{href:l,onClick:()=>o.default.remove(e.id),className:"font-normal text-sm text-white underline ",children:c})}),(0,s.jsx)("span",{className:"cursor-pointer text-white absolute top-[18px] right-5",onClick:()=>o.default.remove(e.id),children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[(0,s.jsx)("path",{d:"M18 6 6 18"}),(0,s.jsx)("path",{d:"m6 6 12 12"})]})})]})})})},d=(e,t,r)=>c({message:e,type:"success",href:t,hrefName:r}),i=e=>c({message:e,type:"error"})},98986:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(95155),l=r(12115),a=r(46195),o=r(31027),n=r(21567);let c=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)(a.b,{ref:t,className:(0,n.cn)(c(),r),...l})});d.displayName=a.b.displayName},70488:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var s=r(95155),l=r(12115),a=r(26970),o=r(21567);let n=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,s.jsx)(a.bL,{className:(0,o.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-greenLight data-[state=unchecked]:bg-darkSoul",r),...l,ref:t,children:(0,s.jsx)(a.zi,{className:(0,o.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});n.displayName=a.bL.displayName},93952:(e,t,r)=>{"use strict";r.d(t,{Bx:()=>l,C0:()=>i,Ds:()=>x,FE:()=>o,HD:()=>m,IC:()=>d,MH:()=>c,O2:()=>P,Q9:()=>w,QG:()=>u,QM:()=>j,RD:()=>E,SA:()=>y,Tq:()=>b,V2:()=>s,Ws:()=>Q,bb:()=>L,d8:()=>v,eI:()=>n,f_:()=>A,iI:()=>C,kt:()=>N,lf:()=>h,lh:()=>T,nh:()=>I,oH:()=>a,r3:()=>k,rH:()=>g,si:()=>F,tb:()=>S,uC:()=>f,w8:()=>p,yW:()=>D});let s="https://api.sectortechnology.uz",l="/user/catalog/all?catalog=true&subcatalog=true&category=true",a="/user/product/all",o="/user/promotion/all",n="/user/product/by-slug",c="/user/product/by-slug",d="/user/auth/login",i="/user/region/all",u="/user/auth/me",x="/user/auth/update",m="/user/auth/update-password",p="/user/filter",h="/user/kontragent/create",f="/user/kontragent-address/create",g="/user/kontragent-address/update",b="/user/kontragent-address/delete",v="/user/kontragent/all",j="/user/kontragent/update",w="/user/kontragent",N="/user/kontragent/delete",y="/user/kontragent/location",C="/user/cart/toggle-cart",F="/user/cart/all",k="/user/cart/delete",S="/user/cart/update-amount",A="/user/product/toggle-saved",E="/user/product/saved-products",P="/user/product/delete-saved",D=500,I="/user/orders/create",L="/user/orders/get-all",T="/user/orders/get-all?last=true",Q="/user/orders/cancel"},47640:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(99827),l=r(60709);let a=(0,s.v)()((0,l.Zr)(e=>({cartForm:null,contactForm:null,deliveryForm:null,garanteePrice:null,selectedGuarantees:{},addCartForm:t=>e({cartForm:t}),addContactForm:t=>e({contactForm:t}),addDeliveryForm:t=>e({deliveryForm:t}),addGaranteePrice:t=>e({garanteePrice:t}),setSelectedGuarantee:(t,r)=>e(e=>({selectedGuarantees:{...e.selectedGuarantees,[t]:r}}))}),{name:"sfeo-mtr",storage:(0,l.KU)(()=>sessionStorage)}))},12527:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,J:()=>n});var s=r(99827),l=r(60709);let a=(0,s.v)()((0,l.Zr)((e,t)=>({auth:!1,isHydrated:!1,contact:"",favorites:[],cart:[],rowCol:!1,compares:[],selected:[],user:null,agentId:null,setAgent:t=>e({agentId:t}),setHydrated:t=>e({isHydrated:t}),setUser:t=>e({user:t}),setAuth:t=>e({auth:t}),toggleRowCol:t=>e(e=>({rowCol:"boolean"==typeof t?t:!e.rowCol})),selectedCardsList:t=>{e(()=>({selected:t}))},removeSelectedCardsList:()=>{e(()=>({selected:[]}))},setContact:t=>e({contact:t}),toggleFavorites:t=>{e(e=>e.favorites.some(e=>e.id===t.id)?{favorites:e.favorites.filter(e=>e.id!==t.id)}:{favorites:[...e.favorites,t]})},resetFavorites:()=>e({favorites:[]}),addToCart:t=>e(e=>e.cart.find(e=>e.id===t.id)?{cart:e.cart.map(e=>e.id===t.id?{...e,count:(e.count||1)+(t.count||1)}:e)}:{cart:[...e.cart,{...t,count:t.count||1}]}),setQuantity:(t,r)=>{e(e=>({cart:e.cart.map(e=>e.id===t?{...e,count:Math.max(r,1)}:e)}))},toggleCompare:t=>{e(e=>e.compares.some(e=>e.id===t.id)?{compares:e.compares.filter(e=>e.id!==t.id)}:{compares:[...e.compares,t]})},deleteFavorites:t=>{e(e=>({favorites:e.favorites.filter(e=>e.id!==t)}))},deleteCart:t=>{e(e=>({cart:e.cart.filter(e=>e.id!==t)}))},resetCart:()=>e({cart:[]}),removeFromCompares:t=>{e(e=>({compares:e.compares.filter(e=>e.id!==t)}))},resetCompares:()=>e({compares:[]}),getTotalPrice:()=>t().cart.reduce((e,t)=>{var r,s;return e+(null!==(r=t.price)&&void 0!==r?r:0)*(null!==(s=t.count)&&void 0!==s?s:1)},0),getGroupedItems:()=>t().cart,logOut:()=>{e({auth:!1,contact:"",agentId:null,rowCol:!1,user:null}),localStorage.removeItem("sector-token")},clearDataAfterTimeout:()=>{t().auth||setTimeout(()=>{t().resetCart(),t().resetFavorites(),t().resetCompares()},6048e5)}}),{name:"sector-app",storage:(0,l.KU)(()=>localStorage),onRehydrateStorage:()=>e=>{localStorage.getItem("sector-token")&&(null==e||e.setAuth(!0)),null==e||e.setHydrated(!0)}})),o=a,n=()=>{a.persist.rehydrate(),localStorage.getItem("sector-token")&&a.setState({auth:!0})}},11349:(e,t,r)=>{"use strict";r.d(t,{nu:()=>d,vL:()=>n,fl:()=>l,Nu:()=>u,YU:()=>x});var s=r(12115);let l=()=>{let[e,t]=(0,s.useState)(!1),[r,l]=(0,s.useState)(""),[a,o]=(0,s.useState)(null);return{isOpen:e,message:r,openModal:(e,r)=>{l(e),o(()=>r),t(!0)},closeModal:()=>{t(!1),o(null)},onConfirm:a}};var a=r(11644),o=r(12527);function n(e){let[t,r]=(0,s.useState)(!1),[l,n]=(0,s.useState)(()=>null==e?void 0:e.map(e=>e.id)),[c,d]=(0,s.useState)(null==e?void 0:e.length),{auth:i,clearDataAfterTimeout:u}=(0,o.A)(),x=(0,s.useRef)(!1);(0,s.useEffect)(()=>{r(!0)},[]),(0,s.useEffect)(()=>{!1===i&&u()},[i,u]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{!1!==i||x.current||((0,a.Qg)("Вы не авторизованы, рекомендуем авторизоваться"),x.current=!0)},500);return()=>clearTimeout(e)},[i]),(0,s.useEffect)(()=>{(null==e?void 0:e.length)!==c&&(n(null==e?void 0:e.map(e=>e.id)),d(null==e?void 0:e.length))},[e,c]);let m=(null==e?void 0:e.length)>0&&(null==l?void 0:l.length)===(null==e?void 0:e.length),p=null==e?void 0:e.filter(e=>null==l?void 0:l.includes(e.id));return{isClient:t,selectedItems:l,toggleAllItems:()=>{n(t=>(null==t?void 0:t.length)===(null==e?void 0:e.length)?[]:null==e?void 0:e.map(e=>e.id))},toggleSingleItem:e=>{n(t=>(null==t?void 0:t.includes(e))?t.filter(t=>t!==e):[...t,e])},isAllChecked:m,selectedCards:p}}var c=r(47640);function d(e){let{cart:t,selectedItems:r,setValue:a,cartForm:o,resetCart:n,deleteCart:d}=e,i=(0,c.A)(e=>e.selectedGuarantees);(0,s.useEffect)(()=>{(null==o?void 0:o.city)&&a("city",o.city)},[null==o?void 0:o.city,a]),(0,s.useEffect)(()=>{let e=t.filter(e=>r.includes(e.id)),s=e.reduce((e,t)=>e+t.price*(t.count||1),0);a("productDetails",e.map(e=>{var t,r;return{productId:e.id,count:null!==(t=e.count)&&void 0!==t?t:0,garanteeId:null!==(r=i[e.id])&&void 0!==r?r:"0"}})),a("total",s)},[r,t,a,i]);let{isOpen:u,message:x,openModal:m,closeModal:p,onConfirm:h}=l();return{isConfirmOpen:u,message:x,onConfirm:h,closeModal:p,handleDeleteAll:()=>{m("Вы уверены, что хотите удалить все товары из корзины?",()=>n())},handleDeleteClick:e=>{m("Вы уверены, что хотите удалить товар из корзины?",()=>d(e))}}}var i=r(76046);function u(){let{auth:e,isHydrated:t}=(0,o.A)(),r=(0,i.useRouter)();return(0,s.useEffect)(()=>{t&&!e&&r.replace("/")},[e,t,r]),e}function x(){let[e,t]=(0,s.useState)("up"),r=(0,s.useRef)(0);return(0,s.useEffect)(()=>{r.current=window.scrollY;let e=()=>{let e=window.scrollY;t(e>r.current?"down":"up"),r.current=e};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e}},74857:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(12527);let l=r(82651).A.create({baseURL:"https://api.sectortechnology.uz",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{{let t=localStorage.getItem("sector-token");t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{var t,r;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(null===(r=e.response.data)||void 0===r?void 0:r.message)==="Invalid or expired token"&&(s.A.getState().logOut(),window.location.href="/"),Promise.reject(e)});let a=l}},e=>{var t=t=>e(e.s=t);e.O(0,[1181,8173,5037,3194,9795,9878,8999,8441,1517,7358],()=>t(34281)),_N_E=e.O()}]);