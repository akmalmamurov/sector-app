{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/project/sector-app/src/components/loader/PageLoader.tsx"],"sourcesContent":["\r\nexport const PageLoader = () => {\r\n  return (\r\n    <div className=\"fixed top-0 left-0 w-full h-1 z-50\">\r\n      <div className=\"w-full h-full bg-gradient-to-r from-blue-500 via-purple-600 to-purple-500 animate-loading-bar\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageLoader;\r\n"],"names":[],"mappings":";;;;;;AACO,MAAM,aAAa;IACxB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;uCAEe"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file://D%3A/project/sector-app/src/components/loader/Loading.tsx"],"sourcesContent":["import { LoaderIcon } from \"@/assets/icons\";\r\n\r\nexport const Loading = () => {\r\n  return (\r\n    <div className=\"fixed top-0 left-0 w-full min-h-screen z-50 bg-white p-10 flex  items-center justify-center\">\r\n      {/* Spinner */}\r\n      <div className=\"flex flex-col items-center\">\r\n        <LoaderIcon className=\"animate-spin w-10 h-10\" />\r\n        <p className=\"mt-4 text-black text-lg\">Загрузка</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;;;AAEO,MAAM,UAAU;IACrB,qBACE,8OAAC;QAAI,WAAU;kBAEb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,qIAAA,CAAA,aAAU;oBAAC,WAAU;;;;;;8BACtB,8OAAC;oBAAE,WAAU;8BAA0B;;;;;;;;;;;;;;;;;AAI/C;uCAEe"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file://D%3A/project/sector-app/src/app/cart/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { Metadata } from \"next\";\r\nexport const metadata: Metadata = {\r\n  title: \"Корзина | Sector App\",\r\n  description: \"Системная интеграция от Sector\",\r\n};\r\nimport useStore from \"@/context/store\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { PageLoader } from \"@/components/loader\";\r\nimport OrderCart from \"../order-cart/OrderCart\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { OrderRequest } from \"@/types\";\r\nimport { showError } from \"../toast/Toast\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n const CartPage = () => {\r\n  const [city, setCity] = useState<string>(\"\");\r\n  const [isClient, setIsClient] = useState(false);\r\n  const { cart, setQuantity, deleteCart, resetCart,auth,clearDataAfterTimeout } = useStore();\r\n  const [selectedItems, setSelectedItems] = useState<string[]>( cart.map((item) => item.id) );\r\n   const { handleSubmit,control, setValue, watch, formState: { errors }, } = useForm<OrderRequest>();\r\n  const [prevCartLength, setPrevCartLength] = useState(cart.length);\r\n\r\n  const isAllChecked = cart.length > 0 && selectedItems.length === cart.length;\r\n  const selectedCards = cart.filter((item) => selectedItems.includes(item.id));\r\n  const authErrorShown = useRef(false);\r\nconst router = useRouter();\r\n  useEffect(() => {\r\n    if (!auth) {\r\n      clearDataAfterTimeout();\r\n    }\r\n  }, [auth, clearDataAfterTimeout]);\r\n\r\n  useEffect(() => {\r\n    setIsClient(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (auth === false && !authErrorShown.current) {\r\n        showError(\"Вы не авторизованы, рекомендуем авторизоваться\");\r\n        authErrorShown.current = true;\r\n      }\r\n    }, 500);\r\n    return () => clearTimeout(timer);\r\n  }, [auth]);\r\n  useEffect(() => {\r\n    if (cart.length !== prevCartLength) {\r\n      setSelectedItems(cart.map((item) => item.id));\r\n      setPrevCartLength(cart.length);\r\n    }\r\n  }, [cart, prevCartLength]);\r\n  useEffect(() => setIsClient(true), []);\r\n  if (!isClient) {\r\n    return <PageLoader />;\r\n  }\r\n  const onSubmit = (data: OrderRequest) => {\r\n    console.log(data);\r\n      router.push(\"/cart/contacts\");\r\n    \r\n  };\r\n  const toggleAllItems = () => {\r\n    if (isAllChecked) {\r\n      setSelectedItems([]);\r\n    } else {\r\n      setSelectedItems(cart.map((item) => item.id));\r\n    }\r\n  };\r\n\r\n  const toggleSingleItem = (id: string) => {\r\n    setSelectedItems((prev) =>\r\n      prev.includes(id) ? prev.filter((itemId) => itemId !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  const props = {\r\n    toggleSingleItem,\r\n    toggleAllItems,\r\n    isAllChecked,\r\n    setQuantity,\r\n    city,\r\n    setCity,\r\n    cart,\r\n    selectedItems,\r\n    deleteCart,\r\n    resetCart,\r\n    errors,\r\n    control,\r\n    setValue,\r\n    watch,\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <div className=\"grid grid-cols-4 gap-[23px]\">\r\n        <div className=\"col-span-3\">\r\n          <MyCartLeft {...props} />\r\n        </div>\r\n        <div className=\"col-span-1\">\r\n          <OrderCart selectedCards={selectedCards} />\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}