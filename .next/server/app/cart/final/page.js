(()=>{var e={};e.id=3366,e.ids=[3366],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},12104:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>i});var r=s(70260),l=s(28203),a=s(25155),o=s.n(a),n=s(67292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let i=["",{children:["cart",{children:["final",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,87993)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/cart/final/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,96217)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/cart/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,60759)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/cart/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,66389)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,84156)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,50042)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/home/pm/boburmirzo/sector-technology/sector-app/src/app/cart/final/page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/cart/final/page",pathname:"/cart/final",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},64917:(e,t,s)=>{Promise.resolve().then(s.bind(s,87993))},78485:(e,t,s)=>{Promise.resolve().then(s.bind(s,20452))},20452:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var r=s(45512),l=s(64186),a=s(42102),o=s(53731),n=s(66243),d=s(61978),i=s(34486),c=s(78720),x=s(58009),m=s(89492),p=s(78955),h=s(40636),u=s(24999),f=s(28531),j=s.n(f),b=s(47630),g=s(45103),N=s(1978),v=s(69850),C=s(10282),y=s(39400),w=s(18579);let k=({handleFinal:e,cartForm:t,deliveryForm:s,contactForm:l,selected:a,setComment:o,contrAgent:n})=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(w.w,{className:"rounded-none shadow-sectionShadow",children:[(0,r.jsxs)(j(),{href:"/cart/delivery",className:"flex items-center gap-[7px] text-stoneCold text-xs group",children:[(0,r.jsx)("span",{className:"group-hover:underline",children:"Назад к способу доставки"}),(0,r.jsx)(h.A,{width:15,height:11,className:"text-textColor"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 my-6",children:[(0,r.jsx)("h3",{className:"font-normal text-stoneCold text-[17px] leading-[20.5px]",children:"1. Контактная информация"}),(0,r.jsx)("div",{className:"bg-greenLight w-[18px] h-[18px] rounded-full flex items-center justify-center",children:(0,r.jsx)(u.A,{className:"text-white",strokeWidth:5,size:8})})]}),(0,r.jsxs)("div",{className:"border border-superSilver grid grid-cols-2 bg_final p-6",children:[(0,r.jsxs)("div",{className:" flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,r.jsx)("span",{className:"text-weekColor font-normal text-xs",children:"Контрагент"}),(0,r.jsxs)("p",{className:"text-stoneCold text-sm font-normal",children:[n?.name," ",(0,r.jsxs)("span",{children:["ИНН ",n?.inn]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,r.jsx)("span",{className:"text-weekColor font-normal text-xs",children:"Телефон"}),(0,r.jsx)("p",{className:"text-stoneCold text-sm font-normal",children:(0,C.w5)(l?.phone?.toString())})]})]}),(0,r.jsxs)("div",{className:" flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,r.jsx)("span",{className:"text-weekColor font-normal text-xs",children:"Получатель"}),(0,r.jsxs)("p",{className:"text-stoneCold text-sm font-normal",children:[l?.lastname," ",l?.firstname]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,r.jsx)("span",{className:"text-weekColor font-normal text-xs",children:"E-mail"}),(0,r.jsx)("p",{className:"text-stoneCold text-sm font-normal",children:l?.email})]})]})]})]}),(0,r.jsxs)(w.w,{className:"rounded-none shadow-sectionShadow",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("h3",{className:"font-normal text-stoneCold text-[17px] leading-[20.5px]",children:"2. Доставка"}),(0,r.jsx)("div",{className:"bg-greenLight w-[18px] h-[18px] rounded-full flex items-center justify-center",children:(0,r.jsx)(u.A,{className:"text-white",strokeWidth:5,size:8})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-textColor font-semibold text-lg leading-[27px] mb-3",children:["Склад"," ",s?.deliveryMethod==="Самовывоз"?"Самовывоз":"отгрузки",": Ташкент"," ",(0,r.jsxs)("span",{className:"text-darkSoul",children:["(",a?.length,")"]})]}),(0,r.jsxs)("p",{className:"text-sm text-darkSoul",children:["Доставка"," ",(0,r.jsxs)("span",{className:s?.deliveryMethod==="До пункта выдачи"?"uppercase":"lowercase",children:[s?.deliveryMethod==="До пункта выдачи"?"ПВЗ":s?.deliveryMethod,":"]}),(0,r.jsx)("span",{className:"ml-1 underline underline-offset-2 text-cerulean",children:s?.deliveryMethod==="До пункта выдачи"?"Ташкент":(0,r.jsxs)("span",{children:[s?.address?.fullAddress.split(",").map(e=>e.trim()).reverse().join(", "),", ",s?.address?.street," ,"," ",s?.address?.house]})})]}),(0,r.jsxs)(b.XI,{className:"border border-gray-300 rounded-none overflow-hidden w-full mt-6 ",children:[(0,r.jsx)(b.A0,{children:(0,r.jsxs)(b.Hj,{className:"bg-gray-100 text-left",children:[(0,r.jsx)(b.nd,{className:"p-4 text-stoneCold font-semibold text-sm",children:"Наименование товара"}),(0,r.jsx)(b.nd,{className:"p-4 text-stoneCold font-semibold text-sm",children:"Артикул"}),(0,r.jsx)(b.nd,{className:"p-4 text-stoneCold font-semibold text-sm",children:"Кол-во"}),(0,r.jsx)(b.nd,{className:"p-4 text-end text-stoneCold font-semibold text-sm",children:"Цена"})]})}),(0,r.jsxs)(b.BF,{children:[a.map(e=>(0,r.jsxs)(b.Hj,{children:[(0,r.jsx)(b.nA,{className:"border-r p-[14px]",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-start",children:[(0,r.jsx)("div",{className:"w-auto h-auto",children:(0,r.jsx)(g.default,{src:`${c.V2}/${e.mainImage}`,alt:e.title,width:65,height:65,className:" aspect-square"})}),(0,r.jsx)("p",{className:"text-stoneCold text-sm font-normal text-wrap flex-1",children:e.title})]})}),(0,r.jsx)(b.nA,{className:"p-[14px] border-r text-xs text-textColor",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 justify-between",children:[(0,r.jsx)("p",{className:"flex-1",children:e.articul}),(0,r.jsx)("span",{className:"cursor-pointer text-explosiveGrey hover:text-cerulean hoverEffect",onClick:()=>(0,C.lW)(e.articul,`Артикул ${e.articul} скопирован в буфер обмена`),children:(0,r.jsx)(N.Td,{})})]})}),(0,r.jsx)(b.nA,{className:"p-[14px] text-xs font-normal text-textColor border-r",children:(0,r.jsx)("p",{className:"text-xs text-textColor font-normal text-center",children:e.count})}),(0,r.jsx)(b.nA,{className:"p-[14px] text-xs font-normal text-textColor border-r text-end",children:(0,r.jsx)(v.A,{amount:e.price,className:"text-xs text-textColor font-normal"})})]},e.id)),s?.deliveryMethod!=="Самовывоз"&&(0,r.jsxs)(b.Hj,{className:"w-full",children:[(0,r.jsx)(b.nA,{className:"p-[14px] text-sm font-semibold text-textColor ",children:"В т.ч. доставка"}),(0,r.jsx)(b.nA,{className:"p-[14px]  font-semibold text-sm text-textColor text-right",colSpan:3,children:"будет рассчитана менеджером"})]}),(0,r.jsxs)(b.Hj,{className:"w-full",children:[(0,r.jsx)(b.nA,{className:"p-[14px] text-sm font-semibold text-textColor ",children:"Сумма"}),(0,r.jsx)(b.nA,{className:"p-[14px]  text-xs font-semibold text-textColor text-right",colSpan:3,children:(0,r.jsx)(v.A,{amount:t?.total,className:"text-sm"})})]})]})]})]})]}),(0,r.jsxs)(w.w,{className:"rounded-none shadow-sectionShadow",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-[23px]",children:[(0,r.jsx)("h3",{className:"font-normal text-stoneCold text-[17px] leading-[20.5px]",children:"3. Завершить заказ"}),(0,r.jsx)("div",{className:"bg-greenLight w-[18px] h-[18px] rounded-full flex items-center justify-center",children:(0,r.jsx)(u.A,{className:"text-white",strokeWidth:5,size:8})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-[15px] mb-[26px]",children:[(0,r.jsx)("div",{className:"bg-greenLight w-[18px] h-[18px] rounded-full flex items-center justify-center",children:(0,r.jsx)(u.A,{className:"text-white",strokeWidth:5,size:8})}),(0,r.jsxs)("p",{className:"text-sm text-textColor font-normal",children:["Прочитал и\xa0согласен с\xa0",(0,r.jsx)(j(),{href:"/privacy-policy",className:"text-cerulean hover:underline",children:"условиями пользовательского соглашения."})]})]}),(0,r.jsxs)("div",{className:"flex flex-col pb-[23px] border-b border-superSilver",children:[(0,r.jsx)("label",{htmlFor:"comment",className:"mb-[11px] text-sm text-textColor",children:"Комментарий к заказу"}),(0,r.jsx)("textarea",{name:"comment",id:"comment",placeholder:"Напишите свой комментарий",onChange:e=>o(e.target.value),className:"p-[15px] w-full border border-superSilver resize-none focus:outline-none focus:border-cerulean text-[#757575] text-sm"})]}),(0,r.jsxs)(y.$,{onClick:e,className:"mt-[15px] text-white bg-cerulean rounded-none flex gap-2 h-[42px] hover:bg-cerulean/85 hoverEffect",children:[(0,r.jsx)(N.uQ,{}),"Завершить заказ"]})]})]})});s(58187),s(93190);let A=e=>(0,r.jsxs)("svg",{width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9923 5.084C11.8423 5.294 11.7812 5.577 11.7812 5.75V6.75H9.78125V5.75C9.78125 5.257 9.92125 4.539 10.3693 3.916C10.8553 3.242 11.6553 2.75 12.7812 2.75C13.9072 2.75 14.7072 3.242 15.1932 3.916C15.6412 4.539 15.7812 5.256 15.7812 5.75V6.75H13.7812V5.75C13.7812 5.577 13.7212 5.294 13.5702 5.084C13.4552 4.925 13.2552 4.75 12.7812 4.75C12.3073 4.75 12.1073 4.925 11.9923 5.084ZM8.78125 16.75C8.78125 16.4848 8.88661 16.2304 9.07414 16.0429C9.26168 15.8554 9.51603 15.75 9.78125 15.75H11.7812C12.0465 15.75 12.3008 15.8554 12.4884 16.0429C12.6759 16.2304 12.7812 16.4848 12.7812 16.75C12.7812 17.0152 12.6759 17.2696 12.4884 17.4571C12.3008 17.6446 12.0465 17.75 11.7812 17.75H9.78125C9.51603 17.75 9.26168 17.6446 9.07414 17.4571C8.88661 17.2696 8.78125 17.0152 8.78125 16.75ZM8.78125 13.75C8.78125 13.4848 8.88661 13.2304 9.07414 13.0429C9.26168 12.8554 9.51603 12.75 9.78125 12.75H15.7812C16.0465 12.75 16.3008 12.8554 16.4884 13.0429C16.6759 13.2304 16.7812 13.4848 16.7812 13.75C16.7812 14.0152 16.6759 14.2696 16.4884 14.4571C16.3008 14.6446 16.0465 14.75 15.7812 14.75H9.78125C9.51603 14.75 9.26168 14.6446 9.07414 14.4571C8.88661 14.2696 8.78125 14.0152 8.78125 13.75ZM8.78125 10.75C8.78125 10.4848 8.88661 10.2304 9.07414 10.0429C9.26168 9.85536 9.51603 9.75 9.78125 9.75H15.7812C16.0465 9.75 16.3008 9.85536 16.4884 10.0429C16.6759 10.2304 16.7812 10.4848 16.7812 10.75C16.7812 11.0152 16.6759 11.2696 16.4884 11.4571C16.3008 11.6446 16.0465 11.75 15.7812 11.75H9.78125C9.51603 11.75 9.26168 11.6446 9.07414 11.4571C8.88661 11.2696 8.78125 11.0152 8.78125 10.75Z",fill:"#333333"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.78125 8.75C4.78125 7.95435 5.09732 7.19129 5.65993 6.62868C6.22254 6.06607 6.9856 5.75 7.78125 5.75H17.7812C18.5769 5.75 19.34 6.06607 19.9026 6.62868C20.4652 7.19129 20.7812 7.95435 20.7812 8.75V19.75C20.7812 20.5456 20.4652 21.3087 19.9026 21.8713C19.34 22.4339 18.5769 22.75 17.7812 22.75H7.78125C6.9856 22.75 6.22254 22.4339 5.65993 21.8713C5.09732 21.3087 4.78125 20.5456 4.78125 19.75V8.75ZM7.78125 7.75C7.51603 7.75 7.26168 7.85536 7.07414 8.04289C6.88661 8.23043 6.78125 8.48478 6.78125 8.75V19.75C6.78125 20.0152 6.88661 20.2696 7.07414 20.4571C7.26168 20.6446 7.51603 20.75 7.78125 20.75H17.7812C18.0465 20.75 18.3008 20.6446 18.4884 20.4571C18.6759 20.2696 18.7812 20.0152 18.7812 19.75V8.75C18.7812 8.48478 18.6759 8.23043 18.4884 8.04289C18.3008 7.85536 18.0465 7.75 17.7812 7.75H7.78125Z",fill:"#333333"})]}),q=({orders:e,removeSelected:t})=>{let s=()=>t();return(0,r.jsxs)("div",{children:[e?.map((e,t)=>r.jsxs("div",{children:[r.jsxs("div",{className:" bg-white border shadow-sectionShadow py-[23px] px-[20px] mb-6",children:[r.jsx("div",{className:"mb-3",children:r.jsx("h2",{className:"text-[29px] font-normal leading-[35px] text-textColor text-center",children:"Спасибо за Ваш заказ!"})}),r.jsxs("div",{className:"flex items-center gap-3 pb-6 mt-8",children:[r.jsx("h3",{className:"font-normal text-stoneCold text-[17px] leading-[20.5px]",children:"1. Контактная информация"}),r.jsx("div",{className:"bg-greenLight w-[18px] h-[18px] rounded-full flex items-center justify-center",children:r.jsx(u.A,{className:"text-white",strokeWidth:5,size:8})})]}),r.jsxs("div",{className:"border border-superSilver grid grid-cols-2 bg_final px-4 py-6",children:[r.jsxs("div",{className:"col-span-1 flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsx("span",{className:"text-weekColor font-normal text-xs",children:"Контрагент"}),r.jsxs("p",{className:"text-stoneCold text-sm font-normal",children:[e?.kontragent?.name," ИНН ",e?.kontragent?.inn]})]}),r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsx("span",{className:"text-weekColor font-normal text-xs",children:"Телефон"}),r.jsx("p",{className:"text-stoneCold text-sm font-normal",children:C.w5(e?.phone)})]})]}),r.jsxs("div",{className:"col-span-1 flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsx("span",{className:"text-weekColor font-normal text-xs",children:"Получатель"}),r.jsx("p",{className:"text-stoneCold text-sm font-normal",children:e?.fullname})]}),r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsx("span",{className:"text-weekColor font-normal text-xs",children:"E-mail"}),r.jsx("p",{className:"text-stoneCold text-sm font-normal",children:e?.email})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pb-6 mt-6",children:[r.jsx("h3",{className:"font-normal text-stoneCold text-[17px] leading-[20.5px]",children:"2. Информация о доставке"}),r.jsx("div",{className:"bg-greenLight w-[18px] h-[18px] rounded-full flex items-center justify-center",children:r.jsx(u.A,{className:"text-white",strokeWidth:5,size:8})})]}),r.jsx("div",{className:"border border-superSilver bg_final1 px-4 py-6",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsxs("span",{className:"text-weekColor font-normal text-xs",children:["Адрес"," ","Самовывоз"===e.deliveryMethod?"Самовывоза":"До адреса"===e.deliveryMethod?"Доставки":"ПВЗ"]}),r.jsxs("span",{className:"ml-1 border-b border-dashed w-fit border-cerulean text-cerulean",children:[e?.agent?.fullAddress.split(",").map(e=>e.trim()).reverse().join(", "),", ",e?.agent?.house,","]})]}),r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsx("span",{className:"text-weekColor font-normal text-xs",children:"Стоимость"}),r.jsx("p",{className:"text-stoneCold text-sm font-normal",children:"Будет рассчитано менеджером"})]})]})})]}),r.jsx("div",{className:" bg-white border shadow-sectionShadow py-[23px] px-[20px] mb-6",children:r.jsxs("div",{children:[r.jsx("div",{className:"border-b border-superSilver text-center mb-5",children:r.jsxs("h3",{className:"relative text-textColor font-normal inline-block text-lg pb-4",children:[t+1,". Заказ № ",e?.orderNumber," (НДС не облагается)",r.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[4px] bg-gradient-to-r from-cerulean to-blue-500"})]})}),r.jsxs(b.XI,{className:"border border-gray-300 rounded-none overflow-hidden w-full",children:[r.jsx(b.A0,{children:r.jsxs(b.Hj,{className:"bg-gray-100 text-left",children:[r.jsx(b.nd,{className:"p-4 text-stoneCold font-semibold text-sm",children:"Наименование товара"}),r.jsx(b.nd,{className:"p-4 text-stoneCold font-semibold text-sm",children:"Артикул"}),r.jsx(b.nd,{className:"p-4 text-stoneCold font-semibold text-sm",children:"Кол-во"}),r.jsx(b.nd,{className:"p-4 text-end text-stoneCold font-semibold text-sm",children:"Цена"})]})}),r.jsx(b.BF,{children:e?.products?.map(e=>r.jsxs(b.Hj,{children:[r.jsx(b.nA,{className:"border-r p-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(g.default,{src:`${c.V2}/${e?.product.mainImage}`,alt:e?.product.title,width:60,height:60,className:"aspect-square"}),r.jsx("p",{className:"text-stoneCold text-sm",children:e?.product.title})]})}),r.jsxs(b.nA,{className:"border-r px-3 py-6 text-xs flex items-center justify-between",children:[e?.product.productCode,r.jsx(N.Td,{className:"cursor-pointer hover:text-cerulean",onClick:()=>C.lW(e?.product.productCode,"Артикул скопирован")})]}),r.jsx(b.nA,{className:"border-r px-4 py-6 text-center text-xs",children:e?.count}),r.jsx(b.nA,{className:"px-4 py-6 text-end text-xs",children:r.jsx(v.A,{amount:e?.price})})]},e?.productId))})]}),r.jsxs("div",{className:"border border-gray-300 rounded-none border-t-0",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-4 border-b border-gray-300",children:[r.jsx("p",{className:"font-semibold text-sm text-textColor",children:"В т.ч. доставка"}),r.jsx("p",{className:"font-semibold text-sm text-textColor",children:"будет рассчитана менеджером"})]}),r.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-4",children:[r.jsx("p",{className:"font-semibold text-sm text-textColor",children:"Сумма"}),r.jsx("p",{className:"font-semibold text-sm text-textColor",children:r.jsx(v.A,{amount:Number(e?.total)})})]})]}),r.jsx("div",{className:"flex items-center gap-2 my-4",children:r.jsxs(j(),{href:`/profile/orders/${e?.id}`,onClick:s,className:"bg-white  hover:opacity-90 transition-opacity py-2 px-6 text-base font-semibold text-cerulean border border-cerulean flex items-center justify-center gap-2",children:[r.jsx(N.fl,{}),"Перейти к заказу"]})})]})})]},t)),(0,r.jsxs)("div",{className:" bg-white border shadow-sectionShadow py-[23px] px-[20px] text-center",children:[(0,r.jsx)("h3",{className:"font-normal text-textColor text-[29px] leading-[35px] mb-7",children:"Остались вопросы?"}),(0,r.jsxs)("p",{className:"text-textColor text-sm font-normal mb-6",children:["По телефону"," ",(0,r.jsx)(j(),{className:"text-cerulean font-semibold",href:"#",children:"+998 55 508 0660"})," ","или"," ",(0,r.jsx)(j(),{className:"text-cerulean font-semibold",href:"#",children:"@NagSalesBot"})]}),(0,r.jsx)("p",{className:"text-textColor text-sm font-normal",children:"Менеджер свяжется с\xa0вами, чтобы уточнить стоимость, состав и\xa0детали заказа, согласовать и\xa0подтвердить его."}),(0,r.jsx)("p",{className:"text-textColor text-sm font-normal mb-6",children:"Статус Вашего заказа вы\xa0можете отслеживать в\xa0личном кабинете."}),(0,r.jsxs)("p",{className:"flex items-center justify-center gap-2 text-textColor text-sm font-normal",children:[(0,r.jsx)(A,{className:"w-6 h-6"}),"Cчёт после формирования заказа будет выгружен в\xa0личный кабинет!"]})]})]})};var I=s(47083);let S=()=>{let e=(0,o.A)(e=>e.selected),t=(0,o.A)(e=>e.removeSelectedCardsList),{cartForm:s,deliveryForm:h,contactForm:u}=(0,d.A)(),[f,j]=(0,x.useState)(null),b=(0,n.Nu)(),g=(0,l.jE)(),[N,v]=(0,x.useState)(""),{data:C}=(0,a.I)({queryKey:["contragents",u?.kontragentId],queryFn:()=>(0,i.E4)(u?.kontragentId||""),enabled:!!u?.kontragentId}),{data:y,isLoading:w}=(0,a.I)({queryKey:["order"],queryFn:()=>(0,i.hg)(),enabled:b});if((0,x.useEffect)(()=>{if(w||!y||!s?.productDetails)return;let e=s.productDetails.map(e=>e.productId);j(y.some(t=>{let r=t.products.map(e=>e.productId);return e.every(e=>r.includes(e))&&r.length===e.length&&t.contrAgentId===u?.kontragentId&&t.deliveryMethod===h?.deliveryMethod&&t.city===s?.city})?2:1)},[y,w,s,h,u]),!b||null===f||!b)return null;let A=async e=>{await p.A.post(c.iI,{productId:e}),g.invalidateQueries({queryKey:["cart"]})},S=async()=>{try{let e={receiverInfo:{fullname:`${u?.firstname||""} ${u?.lastname||""} ${u?.fullname||""}`.trim(),email:u?.email,phone:u?.phone},productDetails:s?.productDetails,orderInfo:{deliveryMethod:h?.deliveryMethod,kontragentId:u?.kontragentId,...h?.agentId&&{agentId:h?.agentId},city:s?.city,...N.length>0&&{comment:N},total:s?.total}};await p.A.post(c.nh,e),g.invalidateQueries({queryKey:["order"]}),j(2),(0,m.Te)("Заказ успешно оформлен");let t=s?.productDetails?.map(e=>e.productId)??[];await Promise.all(t.map(e=>A(e)))}catch(e){console.log(e),(0,m.Qg)("При оформлении заказа произошла ошибка")}};return(0,r.jsxs)(r.Fragment,{children:[1===f&&(0,r.jsx)(k,{handleFinal:S,cartForm:s,deliveryForm:h,contactForm:u,selected:e,setComment:e=>v(e),contrAgent:C}),2===f&&(0,r.jsx)(q,{orders:y,removeSelected:t}),(0,r.jsx)("div",{className:"hidden",children:(0,r.jsx)(I.default,{currentStep:f})})]})}},40636:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(45512);let l=e=>(0,r.jsx)("svg",{width:16,height:12,viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M4.29703 7.19977L6.58992 9.49266C6.98044 9.88318 6.98044 10.5164 6.58992 10.9069C6.1994 11.2974 5.56623 11.2974 5.17571 10.9069L1.17571 6.90687C0.785181 6.51635 0.785181 5.88318 1.17571 5.49266L5.17571 1.49266C5.56623 1.10214 6.1994 1.10214 6.58992 1.49266C6.98044 1.88319 6.98044 2.51635 6.58992 2.90687L4.29703 5.19977H13.8843C14.4357 5.19977 14.8828 5.64748 14.8828 6.19977C14.8828 6.75205 14.4357 7.19977 13.8843 7.19977H4.29703Z",fill:"currentColor"})})},18579:(e,t,s)=>{"use strict";s.d(t,{w:()=>a});var r=s(45512),l=s(44195);let a=({children:e,className:t})=>(0,r.jsx)("section",{className:(0,l.cn)("bg-white border border-superSilver p-6 rounded-[10px]",t),children:e})},47630:(e,t,s)=>{"use strict";s.d(t,{A0:()=>n,BF:()=>d,Hj:()=>i,XI:()=>o,nA:()=>x,nd:()=>c});var r=s(45512),l=s(58009),a=s(44195);let o=l.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,a.cn)("w-full caption-bottom text-sm",e),...t})}));o.displayName="Table";let n=l.forwardRef(({className:e,...t},s)=>(0,r.jsx)("thead",{ref:s,className:(0,a.cn)("[&_tr]:border-b",e),...t}));n.displayName="TableHeader";let d=l.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tbody",{ref:s,className:(0,a.cn)("[&_tr:last-child]:border-0",e),...t}));d.displayName="TableBody",l.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tfoot",{ref:s,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let i=l.forwardRef(({className:e,...t},s)=>(0,r.jsx)("tr",{ref:s,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));i.displayName="TableRow";let c=l.forwardRef(({className:e,...t},s)=>(0,r.jsx)("th",{ref:s,className:(0,a.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));c.displayName="TableHead";let x=l.forwardRef(({className:e,...t},s)=>(0,r.jsx)("td",{ref:s,className:(0,a.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));x.displayName="TableCell",l.forwardRef(({className:e,...t},s)=>(0,r.jsx)("caption",{ref:s,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},87993:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/pm/boburmirzo/sector-technology/sector-app/src/app/cart/final/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/pm/boburmirzo/sector-technology/sector-app/src/app/cart/final/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7036,8563,1116],()=>s(12104));module.exports=r})();