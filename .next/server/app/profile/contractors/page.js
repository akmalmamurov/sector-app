(()=>{var e={};e.id=8715,e.ids=[8715],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},51964:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>p,routeModule:()=>u,tree:()=>c});var s=t(70260),o=t(28203),i=t(25155),a=t.n(i),n=t(67292),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let c=["",{children:["profile",{children:["contractors",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,49440)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/contractors/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,47004)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,66536)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,66389)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,84156)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,50042)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],p=["/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/contractors/page.tsx"],d={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/profile/contractors/page",pathname:"/profile/contractors",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},45578:(e,r,t)=>{Promise.resolve().then(t.bind(t,49440))},8626:(e,r,t)=>{Promise.resolve().then(t.bind(t,19620))},75364:(e,r,t)=>{Promise.resolve().then(t.bind(t,44749))},40452:(e,r,t)=>{Promise.resolve().then(t.bind(t,39833))},53515:(e,r,t)=>{Promise.resolve().then(t.bind(t,69654))},13187:(e,r,t)=>{Promise.resolve().then(t.bind(t,22754))},19620:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(45512),o=t(34486),i=t(1978),a=t(98062),n=t(9277),l=t(66243),c=t(42102),p=t(18072),d=t(58009);let u=()=>{let[e,r]=(0,d.useState)(!1),t=()=>r(e=>!e),u=(0,l.Nu)(),[x,h]=(0,d.useState)(""),{data:m=[]}=(0,c.I)({queryKey:["contragents",x],queryFn:()=>(0,o.WU)(x),enabled:u});return(0,d.useEffect)(()=>{},[]),(0,d.useEffect)(()=>{},[e]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"relative mb-[33px]",children:[(0,s.jsx)("input",{type:"text",placeholder:"Поиск контрагента",className:" w-full h-[41px] px-3 border border-superSilver hover:border-cerulean/70 focus:outline-none focus:ring-1 focus:ring-cerulean focus:border-transparent transition",value:x,onChange:e=>h(e.target.value)}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,s.jsx)(i.WI,{})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 border-b border-superSilver pb-8 gap-[22px] w-full ",children:[(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsxs)("button",{type:"button",onClick:t,className:" min-h-[229px]  cursor-pointer bg-custom border border-dashed  border-superSilver flex justify-center items-center flex-col gap-2",children:[(0,s.jsx)(p.A,{className:"text-weekColor w-10 h-10"}),(0,s.jsx)("p",{className:"text-weekColor mt-2",children:"Добавить контрагенты"})]})}),(0,s.jsx)(a.I,{contrAgents:m?.kontragents||[]})]}),(0,s.jsx)(n.vm,{isOpen:e,toggleOpen:t})]})}},39833:(e,r,t)=>{"use strict";t.d(r,{default:()=>c});var s=t(45512),o=t(53731),i=t(28531),a=t.n(i),n=t(79334);let l=[{name:"Мои заказы",href:"/profile/orders"},{name:"Мои обращения",href:"/profile/issues"},{name:"Контрагенты",href:"/profile/contractors"},{name:"Избранное",href:"/profile/favorites"},{name:"Настройки",href:"/profile/settings"}],c=()=>{let e=(0,n.usePathname)(),r=(0,o.A)(e=>e.auth)?l:l.filter(e=>"/profile/favorites"===e.href);return(0,s.jsx)("div",{style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"overflow-x-auto whitespace-nowrap border-b-[0.5px] border-superSilver",children:(0,s.jsx)("div",{className:"grid grid-cols-5",children:r.map(r=>{let t="/profile/orders"===r.href?"/profile/orders"===e||e.startsWith("/profile/orders/"):e===r.href;return(0,s.jsxs)(a(),{href:r.href,className:"group relative p-6 flex justify-center transition-all duration-150 ease-out text-text-color hover:bg-hoverBg",children:[r.name,(0,s.jsx)("span",{className:`
                  absolute bottom-0 left-0 w-full h-[5px] transition-opacity
                  ${t?"bg-gradient-to-r from-cerulean to-blue-400 opacity-100":"bg-superSilver opacity-0 group-hover:opacity-100"}
                `})]},r.name)})})})}},98062:(e,r,t)=>{"use strict";t.d(r,{I:()=>m});var s=t(45512),o=t(58009),i=t(64186),a=t(34486),n=t(1978),l=t(89492),c=t(94577),p=t(78955),d=t(78720),u=t(9277),x=t(44195),h=t(53731);let m=(0,o.memo)(({contrAgents:e,setValue:r,className:t})=>{let[m,f]=(0,o.useState)(!1),b=()=>f(!m),v=(0,h.A)(e=>e.setAgent),[g,y]=(0,o.useState)(null),[j,w]=(0,o.useState)(""),[N,C]=(0,o.useState)([]),k=(0,i.jE)();(0,o.useEffect)(()=>{let t=e.find(e=>e.isFavorite);t&&r&&r("kontragentId",t.id),t&&v(t.id)},[e,r,v]);let P=async e=>{try{await (0,a.x4)(e),k.invalidateQueries({queryKey:["contragents"]}),r&&r("kontragentId",e),v(e)}catch(e){console.error(e),(0,l.Qg)("Ошибка обновления контрагента")}},q=async e=>{try{await p.A.delete(`${d.kt}/${e}`),k.invalidateQueries({queryKey:["contragents"]}),(0,l.Te)("Контрагент удален")}catch(e){console.error(e),(0,l.Qg)("Ошибка удаления контрагента")}},S=(e,r,t)=>{C(e),y(r),w(t),f(!0)};return(0,s.jsx)(s.Fragment,{children:e?.slice().sort((e,r)=>(r.isFavorite?1:0)-(e.isFavorite?1:0)).map(e=>s.jsxs("div",{className:x.cn(`border ${e.isFavorite?"border-cerulean":"border-superSilver"} relative pt-12 px-4 overflow-hidden bg-custom min-h-[229px]`,t),children:[s.jsxs("div",{className:"mb-[15px]",children:[s.jsx("h5",{className:"text-textColor text-sm mb-2",children:e.name}),s.jsxs("p",{className:"text-weekColor text-xs",children:["ИНН ",e.inn]})]}),s.jsxs("div",{className:"gap-2 flex mb-2",children:[s.jsx("span",{className:"border-b border-dashed pb-[2px] text-xs text-cerulean border-cerulean",children:"Розничная цена"}),s.jsxs("span",{onClick:()=>S(e.address,e.id,e.name),className:"border-b border-dashed pb-[2px] text-xs text-cerulean border-cerulean cursor-pointer",children:["Адреса отгрузки:\xa0",e.address.length]})]}),s.jsxs("button",{type:"button",onClick:()=>P(e.id),disabled:e.isFavorite,className:"mt-[31px] flex gap-3 items-center px-[23px] text-weekColor h-[42px] border disabled:bg-cerulean disabled:text-white disabled:border-none",children:[s.jsx(n.Sr,{}),e.isFavorite?"Выбрано":"Выбрать"]}),s.jsxs(c.AM,{children:[s.jsx(c.Wv,{asChild:!0,children:s.jsx("button",{type:"button",className:"absolute top-4 right-2 cursor-pointer w-fit",children:s.jsx(n.qU,{className:"w-6 h-6 text-darkSoul hover:text-textColor"})})}),s.jsxs(c.hl,{className:"w-[200px] p-0 rounded-none flex flex-col right-5 absolute",children:[s.jsxs("span",{onClick:()=>S(e.address,e.id,e.name),className:"cursor-pointer py-[6px] px-4 bg-white text-xs text-textColor hover:bg-superSilver hoverEffect flex items-center gap-2",children:[s.jsx("span",{children:s.jsx(n.Sp,{})}),"Адреса отгрузки:\xa0",e.address.length]}),s.jsxs("span",{onClick:()=>q(e.id),className:"cursor-pointer py-[6px] px-4 bg-white text-xs text-textColor hover:bg-superSilver hoverEffect flex items-center gap-2",children:[s.jsx("span",{className:"w-4 h-4",children:s.jsx(n.XA,{className:"w-4 h-4"})}),"Удалить"]})]})]}),s.jsx(u.h2,{isOpen:m,toggleOpen:b,name:j,contrAgentId:g||"",element:N},g)]},e.id))})});m.displayName="ContrAgent"},49440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/contractors/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/contractors/page.tsx","default")},47004:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(62740),o=t(97847),i=t(44749);function a({children:e}){return(0,s.jsx)("div",{className:"py-[58px]",children:(0,s.jsx)(o.m,{children:(0,s.jsxs)("div",{className:"bg-white shadow-sectionShadow border overflow-hidden",children:[(0,s.jsx)(i.default,{}),(0,s.jsx)("div",{className:"p-6",children:e})]})})})}},66536:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(62740),o=t(69654);let i=()=>(0,s.jsx)("div",{className:"fixed top-[189px] left-0 right-0 w-screen z-50",children:(0,s.jsx)("div",{className:"container mx-auto relative",children:(0,s.jsx)(o.default,{className:"h-1 w-full"})})})},44749:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/pm/boburmirzo/sector-technology/sector-app/src/components/ProfileHeader.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/pm/boburmirzo/sector-technology/sector-app/src/components/ProfileHeader.tsx","default")},18072:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(94825).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7036,8563],()=>t(51964));module.exports=s})();