(()=>{var e={};e.id=1216,e.ids=[1216],e.modules={2962:(e,r,t)=>{"use strict";t.d(r,{default:()=>d});var s=t(60687),o=t(84692),l=t(85814),a=t.n(l),n=t(16189);let i=[{name:"Мои заказы",href:"/profile/orders"},{name:"Мои обращения",href:"/profile/issues"},{name:"Контрагенты",href:"/profile/contractors"},{name:"Избранное",href:"/profile/favorites"},{name:"Настройки",href:"/profile/settings"}],d=()=>{let e=(0,n.usePathname)(),r=(0,o.A)(e=>e.auth)?i:i.filter(e=>"/profile/favorites"===e.href);return(0,s.jsx)("div",{style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"overflow-x-auto whitespace-nowrap border-b-[0.5px] border-superSilver",children:(0,s.jsx)("div",{className:"grid grid-cols-5",children:r.map(r=>{let t="/profile/orders"===r.href?"/profile/orders"===e||e.startsWith("/profile/orders/"):e===r.href;return(0,s.jsxs)(a(),{href:r.href,className:"group relative p-6 flex justify-center transition-all duration-150 ease-out text-text-color hover:bg-hoverBg",children:[r.name,(0,s.jsx)("span",{className:`
                  absolute bottom-0 left-0 w-full h-[5px] transition-opacity
                  ${t?"bg-gradient-to-r from-cerulean to-blue-400 opacity-100":"bg-superSilver opacity-0 group-hover:opacity-100"}
                `})]},r.name)})})})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6211:(e,r,t)=>{"use strict";t.d(r,{A0:()=>n,BF:()=>i,Hj:()=>d,XI:()=>a,nA:()=>c,nd:()=>p});var s=t(60687),o=t(43210),l=t(4780);let a=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",e),...r})}));a.displayName="Table";let n=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",e),...r}));n.displayName="TableHeader";let i=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...r}));i.displayName="TableBody",o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let d=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));d.displayName="TableRow";let p=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));p.displayName="TableHead";let c=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));c.displayName="TableCell",o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption"},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11040:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>S});var s=t(60687),o=t(43210),l=t(59784),a=t(43612),n=t(65367),i=t(84692),d=t(85814),p=t.n(d),c=t(61662),x=t(69861);let u=e=>(0,s.jsx)("svg",{width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.92969 12.1501C2.92969 17.6729 7.40684 22.1501 12.9297 22.1501C18.4525 22.1501 22.9297 17.6729 22.9297 12.1501C22.9297 6.6273 18.4525 2.15015 12.9297 2.15015C7.40684 2.15015 2.92969 6.6273 2.92969 12.1501ZM20.9297 12.1501C20.9297 16.5684 17.348 20.1501 12.9297 20.1501C8.51141 20.1501 4.92969 16.5684 4.92969 12.1501C4.92969 7.73187 8.51141 4.15015 12.9297 4.15015C17.348 4.15015 20.9297 7.73187 20.9297 12.1501ZM11.9297 12.0072C11.9297 11.5339 12.3774 11.1501 12.9297 11.1501C13.482 11.1501 13.9297 11.5339 13.9297 12.0072V16.293C13.9297 16.7663 13.482 17.1501 12.9297 17.1501C12.3774 17.1501 11.9297 16.7663 11.9297 16.293V12.0072ZM13.9297 8.15015C13.9297 8.70243 13.482 9.15015 12.9297 9.15015C12.3774 9.15015 11.9297 8.70243 11.9297 8.15015C11.9297 7.59787 12.3774 7.15015 12.9297 7.15015C13.482 7.15015 13.9297 7.59787 13.9297 8.15015Z",fill:"#333333"})});var m=t(6211),h=t(26214),b=t(30361),f=t(21510),j=t(40988),v=t(8693),g=t(99523),y=t(23718),N=t(7791);let w=({orders:e})=>{let[r,t]=(0,o.useState)(null),[l,a]=(0,o.useState)(null),n=(0,v.jE)(),i=(0,o.useMemo)(()=>r?e.slice().sort((e,t)=>"asc"===r?Number(e.total)-Number(t.total):Number(t.total)-Number(e.total)):e,[e,r]);console.log(e);let d=async e=>{try{await y.A.patch(`${N.Ws}/${e}`,{orderType:"rejected"}),(0,g.Te)("Заказ отменен"),a(null),n.invalidateQueries({queryKey:["orders"]})}catch(e){(0,g.Qg)("При отмене заказа произошла ошибка"),console.log(e)}};return(0,s.jsxs)(m.XI,{className:"w-full table-auto bg-white border-separate border-spacing-y-2",children:[(0,s.jsx)(m.A0,{children:(0,s.jsxs)(m.Hj,{className:"bg-whiteOut text-center border border-gray-200",children:[(0,s.jsxs)(m.nd,{className:"px-[10px] py-[7px] text-center border border-superSilver text-sm leading-[21px] text-textColor relative",children:[(0,s.jsx)("span",{children:"Заказы"}),(0,s.jsx)(c.A,{className:"w-[16px] h-[16px] absolute right-3 top-1/2 -translate-y-1/2"})]}),(0,s.jsxs)(m.nd,{className:"px-[10px] py-[7px] text-center border border-superSilver text-sm leading-[21px] text-textColor relative",children:[(0,s.jsx)("span",{children:"Контрагент"}),(0,s.jsx)(c.A,{className:"w-[16px] h-[16px] absolute right-3 top-1/2 -translate-y-1/2"})]}),(0,s.jsx)(m.nd,{className:"px-[10px] py-[7px] text-center border border-superSilver text-sm leading-[21px] text-textColor relative",children:"Доставка"}),(0,s.jsx)(m.nd,{className:"px-[10px] py-[7px] text-center border border-superSilver text-sm leading-[21px] text-textColor relative",children:"Статус оплаты"}),(0,s.jsxs)(m.nd,{className:"px-[10px] py-[7px] text-center border border-superSilver text-sm leading-[21px] text-textColor relative",children:[(0,s.jsx)("span",{children:"Сумма"}),(0,s.jsxs)("div",{className:" absolute right-3 top-1/2 -translate-y-1/2 flex flex-col justify-center gap-[3px]",children:[(0,s.jsx)("button",{onClick:()=>t("asc"),children:(0,s.jsx)(f.SV,{})}),(0,s.jsx)("button",{onClick:()=>t("desc"),children:(0,s.jsx)(f.tH,{})})]})]}),(0,s.jsx)(m.nd,{className:"px-[10px] py-[7px] text-end border border-superSilver  text-textColor relative"})]})}),(0,s.jsx)(m.BF,{children:i&&i?.length>0?i?.map((e,r)=>(0,s.jsxs)(m.Hj,{className:"",children:[(0,s.jsx)(m.nA,{className:"py-[7px] px-[10px] border-l border-t border-b lg:w-[189px]",children:(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,s.jsx)(p(),{href:`/profile/orders/${e?.id}`,className:"py-[6px] px-[17px] border",children:e?.orderNumber}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{children:["от ",(0,h.Yq)(e?.validStartDate)]})})]})})}),(0,s.jsx)(m.nA,{className:"py-[7px] px-[10px]  border-t border-b lg:w-[328px]",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:(0,s.jsx)(u,{})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("span",{children:e?.kontragentName}),(0,s.jsxs)("span",{children:["ИНН ",e?.kontragent?.inn]})]})]})}),(0,s.jsx)(m.nA,{className:"py-[7px] px-[10px]  border-t border-b lg:w-[265px]",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{children:"Прочее"}),(0,s.jsx)("span",{className:"border-b border-dashed border-cerulean text-cerulean w-fit",children:"Статус: Не отгружен"})]})}),(0,s.jsx)(m.nA,{className:"py-[7px] px-[10px]  border-t border-b lg:w-[220px]",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"border border-dangerColor w-full flex justify-center items-center h-[30px] rounded-[4px] text-dangerColor text-sm",children:e?.orderPriceStatus}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{children:["Оплатить до ",(0,h.Yq)(e?.validEndDate)]})})]})}),(0,s.jsx)(m.nA,{className:"py-[7px] px-[10px]  border-t border-b",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-darkSoul text-xs leading-[18px]",children:"UZS"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(b.A,{amount:Number(e?.total),className:"text-sm font-normal leading-[21px] text-end"}),(0,s.jsxs)("p",{className:"text-pelati text-xs",children:["К оплате ",(0,h.$g)(Number(e?.total))]})]})]})}),(0,s.jsx)(m.nA,{className:"py-[7px] px-[10px]  border-t border-b text-center border-r",children:(0,s.jsx)("div",{className:"cursor-pointer flex justify-center",children:(0,s.jsxs)(j.AM,{open:l===r,onOpenChange:e=>a(e?r:null),children:[(0,s.jsx)(j.Wv,{asChild:!0,children:(0,s.jsx)("button",{type:"button",children:(0,s.jsx)(f.qU,{className:"rotate-[90deg] text-darkSoul"})})}),(0,s.jsxs)(j.hl,{className:"w-[149px] p-0 rounded-none overflow-hidden",children:[(0,s.jsx)("li",{className:"py-[6px] px-4 bg-white hover:bg-superSilver duration-150 ease-in-out list-none",children:(0,s.jsxs)(p(),{href:`/profile/orders/${e?.id}`,className:"text-xs flex items-center gap-2",children:[(0,s.jsx)("span",{children:(0,s.jsx)(x.A,{className:"w-[13px] h-[13px]"})}),"Перейти в заказ"]})}),"rejected"!==e.orderType&&(0,s.jsx)("li",{className:"py-[6px] px-4 bg-white hover:bg-superSilver duration-150 ease-in-out list-none",children:(0,s.jsxs)("button",{type:"button",onClick:()=>d(e?.id),className:"text-xs flex items-center gap-2 text-pelati",children:[(0,s.jsx)("span",{children:(0,s.jsx)(f.d7,{className:"w-[13px] h-[13px] text-pelati"})}),"Отменить"]})})]})]})})})]},e?.id)):null})]})};var C=t(9489),q=t(40913);let S=()=>{let e=(0,i.A)(e=>e.auth),[r,t]=(0,o.useState)(null),[d,p]=(0,o.useState)(null),[c,x]=(0,o.useState)(null),[u,m]=(0,o.useState)(null);(0,l.Nu)();let[h,b]=(0,o.useState)(void 0),[f,j]=(0,o.useState)(void 0),[v,g]=(0,o.useState)(""),{data:y,isLoading:N}=(0,a.I)({queryKey:["orders",r,d,c,u,h,f,v],queryFn:()=>(0,n.WF)(r,d,c,u,h,f,v),enabled:e}),{data:S=[]}=(0,a.I)({queryKey:["contragents"],queryFn:()=>(0,n.WU)(),enabled:e}),P=S?.user_kontragents||[];return(0,s.jsxs)("div",{className:"pt-5 pb-10",children:[(0,s.jsx)(q.w,{props:{setKontragentName:t,setOrderPriceStatus:p,setOrderDeleveryType:x,setOrderType:m,setOrderNumber:g,setPeriodStart:b,setPeriodEnd:j,periodEnd:f,periodStart:h,contrAgents:P}}),(0,s.jsx)("div",{style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"w-full overflow-x-auto",children:N?(0,s.jsx)("div",{className:"fixed top-[189px] left-0 right-0 w-screen z-50",children:(0,s.jsx)("div",{className:"container mx-auto relative",children:(0,s.jsx)(C.default,{className:"h-1 w-full"})})}):(0,s.jsx)(w,{orders:y?.orders})})]})}},12412:e=>{"use strict";e.exports=require("assert")},13187:(e,r,t)=>{Promise.resolve().then(t.bind(t,9489))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29484:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/orders/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/orders/page.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},34521:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(37413),o=t(82867),l=t(57620);function a({children:e}){return(0,s.jsx)("div",{className:"py-[58px]",children:(0,s.jsx)(o.m,{children:(0,s.jsxs)("div",{className:"bg-white shadow-sectionShadow border overflow-hidden",children:[(0,s.jsx)(l.default,{}),(0,s.jsx)("div",{className:"p-6",children:e})]})})})}},40452:(e,r,t)=>{Promise.resolve().then(t.bind(t,2962))},42115:(e,r,t)=>{Promise.resolve().then(t.bind(t,29484))},53515:(e,r,t)=>{Promise.resolve().then(t.bind(t,98559))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56187:(e,r,t)=>{Promise.resolve().then(t.bind(t,11040))},57620:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/pm/boburmirzo/sector-technology/sector-app/src/components/ProfileHeader.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/pm/boburmirzo/sector-technology/sector-app/src/components/ProfileHeader.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65015:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(37413),o=t(98559);let l=()=>(0,s.jsx)("div",{className:"fixed top-[189px] left-0 right-0 w-screen z-50",children:(0,s.jsx)("div",{className:"container mx-auto relative",children:(0,s.jsx)(o.default,{className:"h-1 w-full"})})})},74075:e=>{"use strict";e.exports=require("zlib")},75364:(e,r,t)=>{Promise.resolve().then(t.bind(t,57620))},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")},96464:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>x,tree:()=>d});var s=t(65239),o=t(48088),l=t(88170),a=t.n(l),n=t(30893),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(r,i);let d={children:["",{children:["profile",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,29484)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/orders/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,34521)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,65015)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,54527)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,7200)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,54413)),"/home/pm/boburmirzo/sector-technology/sector-app/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,p=["/home/pm/boburmirzo/sector-technology/sector-app/src/app/profile/orders/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/profile/orders/page",pathname:"/profile/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8072,3125,5766,913],()=>t(96464));module.exports=s})();